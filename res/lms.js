(function(){var g,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(){ca=function(){};ba.Symbol||(ba.Symbol=da)}var da=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
function ea(){ca();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(this)}});ea=function(){}}function fa(a){var b=0;return ha(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ha(a){ea();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}function m(a){ea();var b=a[Symbol.iterator];return b?b.call(a):fa(a)}
var ia="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ja;if("function"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var la;a:{var ma={F:!0},na={};try{na.__proto__=ma;la=na.F;break a}catch(a){}la=!1}ja=la?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var oa=ja;
function n(a,b){a.prototype=ia(b.prototype);a.prototype.constructor=a;if(oa)oa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Pa=b.prototype}function pa(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}
function qa(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}qa("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});function ra(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
qa("WeakMap",function(a){function b(a){this.ac=(f+=Math.random()+1).toString();if(a){ca();ea();a=m(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){ra(a,e)||aa(a,e,{value:{}})}function d(a){var b=Object[a];b&&(Object[a]=function(a){c(a);return b(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(u){return!1}}())return a;
var e="$jscomp_hidden_"+Math.random().toString().substring(2);d("freeze");d("preventExtensions");d("seal");var f=0;b.prototype.set=function(a,b){c(a);if(!ra(a,e))throw Error("WeakMap key fail: "+a);a[e][this.ac]=b;return this};b.prototype.get=function(a){return ra(a,e)?a[e][this.ac]:void 0};b.prototype.has=function(a){return ra(a,e)&&ra(a[e],this.ac)};b.prototype.delete=function(a){return ra(a,e)&&ra(a[e],this.ac)?delete a[e][this.ac]:!1};return b});var p=this;function q(a){return void 0!==a}
function r(a){return"string"==typeof a}function t(a){return"number"==typeof a}function v(a,b,c){a=a.split(".");c=c||p;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&q(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}}function ta(){}
function ua(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function va(a){return null!=a}function w(a){return"array"==ua(a)}function wa(a){var b=ua(a);return"array"==b||"object"==b&&"number"==typeof a.length}function xa(a){return"function"==ua(a)}function ya(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Ba(a,b,c){return a.call.apply(a.bind,arguments)}
function Ca(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function Da(a,b,c){Da=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ba:Ca;return Da.apply(null,arguments)}var x=Date.now||function(){return+new Date};
function z(a,b){function c(){}c.prototype=b.prototype;a.Pa=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.wi=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ea(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ea);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}z(Ea,Error);Ea.prototype.name="CustomError";function Fa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}var Ga=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Ha(a){return decodeURIComponent(a.replace(/\+/g," "))}
function Ia(a){if(!Ja.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ka,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(La,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ma,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Na,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Oa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Pa,"&#0;"));return a}var Ka=/&/g,La=/</g,Ma=/>/g,Na=/"/g,Oa=/'/g,Pa=/\x00/g,Ja=/[\x00&<>"']/;
function Qa(a,b){var c=0;a=Ga(String(a)).split(".");b=Ga(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",h=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==f[0].length&&0==h[0].length)break;c=Ra(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||Ra(0==f[2].length,0==h[2].length)||Ra(f[2],h[2]);f=f[3];h=h[3]}while(0==c)}return c}function Ra(a,b){return a<b?-1:a>b?1:0}
function Sa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function Ta(a){var b=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Ua(a,b){b.unshift(a);Ea.call(this,Fa.apply(null,b));b.shift()}z(Ua,Ea);Ua.prototype.name="AssertionError";function Va(a){throw a;}function Wa(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);a=new Ua(""+e,f||[]);Va(a)}function A(a,b,c){a||Wa("",null,b,Array.prototype.slice.call(arguments,2));return a}function Xa(a,b){Va(new Ua("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))}
function Ya(a,b,c){t(a)||Wa("Expected number but got %s: %s.",[ua(a),a],b,Array.prototype.slice.call(arguments,2));return a}function Za(a,b,c){r(a)||Wa("Expected string but got %s: %s.",[ua(a),a],b,Array.prototype.slice.call(arguments,2));return a}function $a(a,b,c){w(a)||Wa("Expected array but got %s: %s.",[ua(a),a],b,Array.prototype.slice.call(arguments,2))}function ab(a,b,c,d){a instanceof b||Wa("Expected instanceof %s but got %s.",[bb(b),bb(a)],c,Array.prototype.slice.call(arguments,3))}
function bb(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};function cb(){return!1}function db(a,b){cb()&&(b?p.console.error(a):p.console.warn(a))}function eb(a,b){var c=a.stack||a.toString();0>String(c).indexOf(a.message)&&db(a.message,b);db(c,b)}window.onerror=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=m(b);b=c.next().value;c.next();c.next();c.next();(c=c.next().value)?eb(c,!0):db(b,!0);return!0};Va=function(a){try{throw Error(a.message);}catch(b){eb(b,!1)}};
p.console||(window._log="",p.console={log:function(a){window._log+="\n"+a},warn:function(a){window._log+="\nwarn: "+a},error:function(a){window._log+="\nerror: "+a}});function fb(){}v("ispring.events.IEventDispatcher",fb,void 0);fb.prototype.addHandler=function(){};fb.prototype.addHandler=fb.prototype.addHandler;fb.prototype.removeHandler=function(){};fb.prototype.removeHandler=fb.prototype.removeHandler;var gb;a:{var hb=p.navigator;if(hb){var ib=hb.userAgent;if(ib){gb=ib;break a}}gb=""}function B(a){return-1!=gb.indexOf(a)};function jb(){return B("iPhone")&&!B("iPod")&&!B("iPad")};function kb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function lb(a){var b=0,c;for(c in a)b++;return b}function mb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function C(a,b,c){return null!==a&&b in a?a[b]:c}var ob="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function pb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ob.length;f++)c=ob[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function qb(a){var b=arguments.length;if(1==b&&w(arguments[0]))return qb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var rb=Array.prototype.indexOf?function(a,b){A(null!=a.length);return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(r(a))return r(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},sb=Array.prototype.forEach?function(a,b,c){A(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=r(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},tb=Array.prototype.filter?function(a,b){A(null!=a.length);return Array.prototype.filter.call(a,
b,void 0)}:function(a,b){for(var c=a.length,d=[],e=0,f=r(a)?a.split(""):a,h=0;h<c;h++)if(h in f){var k=f[h];b.call(void 0,k,h,a)&&(d[e++]=k)}return d},ub=Array.prototype.map?function(a,b){A(null!=a.length);return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=r(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},vb=Array.prototype.some?function(a,b){A(null!=a.length);return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=
a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1};function wb(a,b){a:{for(var c=a.length,d=r(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:r(a)?a.charAt(b):a[b]}function xb(a,b){b=rb(a,b);var c;(c=0<=b)&&yb(a,b);return c}function yb(a,b){A(null!=a.length);Array.prototype.splice.call(a,b,1)}function zb(a){return Array.prototype.concat.apply([],arguments)}
function Ab(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Bb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(wa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}}function Cb(a,b,c,d){A(null!=a.length);Array.prototype.splice.apply(a,Db(arguments,1))}function Db(a,b,c){A(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};function Eb(a){Eb[" "](a);return a}Eb[" "]=ta;function Fb(a,b){var c=Gb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Hb=B("Opera"),D=B("Trident")||B("MSIE"),Ib=B("Edge"),Jb=B("Gecko")&&!(-1!=gb.toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),Kb=-1!=gb.toLowerCase().indexOf("webkit")&&!B("Edge");function Lb(){var a=p.document;return a?a.documentMode:void 0}var Mb;
a:{var Nb="",Ob=function(){var a=gb;if(Jb)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ib)return/Edge\/([\d\.]+)/.exec(a);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Kb)return/WebKit\/(\S+)/.exec(a);if(Hb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Ob&&(Nb=Ob?Ob[1]:"");if(D){var Pb=Lb();if(null!=Pb&&Pb>parseFloat(Nb)){Mb=String(Pb);break a}}Mb=Nb}var Gb={};function E(a){return Fb(a,function(){return 0<=Qa(Mb,a)})}var Qb;var Rb=p.document;
Qb=Rb&&D?Lb()||("CSS1Compat"==Rb.compatMode?parseInt(Mb,10):5):void 0;var Sb="closure_listenable_"+(1E6*Math.random()|0),Tb=0;var Ub=!D||9<=Number(Qb),Vb=D&&!E("9");!Kb||E("528");Jb&&E("1.9b")||D&&E("8")||Hb&&E("9.5")||Kb&&E("528");Jb&&!E("8")||D&&E("9");var Wb=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});p.addEventListener("test",ta,b);p.removeEventListener("test",ta,b);return a}();function Xb(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ld=!1}Xb.prototype.stopPropagation=function(){this.Ld=!0};Xb.prototype.preventDefault=function(){this.defaultPrevented=!0};function Yb(a,b){Xb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.na=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Jb){a:{try{Eb(b.nodeName);
var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=Kb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Kb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,
this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=r(a.pointerType)?a.pointerType:Zb[a.pointerType]||"";this.state=a.state;this.na=a;a.defaultPrevented&&this.preventDefault()}}z(Yb,Xb);var Zb={2:"touch",3:"pen",4:"mouse"};
Yb.prototype.stopPropagation=function(){Yb.Pa.stopPropagation.call(this);this.na.stopPropagation?this.na.stopPropagation():this.na.cancelBubble=!0};Yb.prototype.preventDefault=function(){Yb.Pa.preventDefault.call(this);var a=this.na;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Vb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};function $b(a,b,c,d,e){this.listener=a;this.Fc=null;this.src=b;this.type=c;this.capture=!!d;this.Hd=e;this.key=++Tb;this.cc=this.Dd=!1}function ac(a){a.cc=!0;a.listener=null;a.Fc=null;a.src=null;a.Hd=null};function bc(a){this.src=a;this.ha={};this.Kc=0}bc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.ha[f];a||(a=this.ha[f]=[],this.Kc++);var h=cc(a,b,d,e);-1<h?(b=a[h],c||(b.Dd=!1)):(b=new $b(b,this.src,f,!!d,e),b.Dd=c,a.push(b));return b};bc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.ha))return!1;var e=this.ha[a];b=cc(e,b,c,d);return-1<b?(ac(e[b]),yb(e,b),0==e.length&&(delete this.ha[a],this.Kc--),!0):!1};
function dc(a,b){var c=b.type;c in a.ha&&xb(a.ha[c],b)&&(ac(b),0==a.ha[c].length&&(delete a.ha[c],a.Kc--))}bc.prototype.og=function(a,b,c,d){a=this.ha[a.toString()];var e=-1;a&&(e=cc(a,b,c,d));return-1<e?a[e]:null};function cc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.cc&&f.listener==b&&f.capture==!!c&&f.Hd==d)return e}return-1};var ec="closure_lm_"+(1E6*Math.random()|0),fc={},gc=0;function F(a,b,c,d,e){if(d&&d.once)return hc(a,b,c,d,e);if(w(b)){for(var f=0;f<b.length;f++)F(a,b[f],c,d,e);return null}c=ic(c);a&&a[Sb]?(d=ya(d)?!!d.capture:!!d,A(a.Cc,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?"),a=a.Cc.add(String(b),c,!1,d,e)):a=jc(a,b,c,!1,d,e);return a}
function jc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ya(e)?!!e.capture:!!e,k=kc(a);k||(a[ec]=k=new bc(a));c=k.add(b,c,d,h,f);if(c.Fc)return c;d=lc();c.Fc=d;d.src=a;d.listener=c;if(a.addEventListener)Wb||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(mc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");gc++;return c}
function lc(){var a=nc,b=Ub?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function hc(a,b,c,d,e){if(w(b)){for(var f=0;f<b.length;f++)hc(a,b[f],c,d,e);return null}c=ic(c);return a&&a[Sb]?a.Cc.add(String(b),c,!0,ya(d)?!!d.capture:!!d,e):jc(a,b,c,!0,d,e)}
function G(a,b,c,d,e){if(w(b))for(var f=0;f<b.length;f++)G(a,b[f],c,d,e);else d=ya(d)?!!d.capture:!!d,c=ic(c),a&&a[Sb]?a.Cc.remove(String(b),c,d,e):a&&(a=kc(a))&&(b=a.og(b,c,d,e))&&oc(b)}function oc(a){if(!t(a)&&a&&!a.cc){var b=a.src;if(b&&b[Sb])dc(b.Cc,a);else{var c=a.type,d=a.Fc;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(mc(c),d);gc--;(c=kc(b))?(dc(c,a),0==c.Kc&&(c.src=null,b[ec]=null)):ac(a)}}}function mc(a){return a in fc?fc[a]:fc[a]="on"+a}
function pc(a,b,c,d){var e=!0;if(a=kc(a))if(b=a.ha[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.cc&&(f=qc(f,d),e=e&&!1!==f)}return e}function qc(a,b){var c=a.listener,d=a.Hd||a.src;a.Dd&&oc(a);return c.call(d,b)}
function nc(a,b){if(a.cc)return!0;if(!Ub){if(!b)a:{b=["window","event"];for(var c=p,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Yb(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Ld&&0<=e;e--){b.currentTarget=d[e];var f=pc(d[e],a,!0,b);c=c&&f}for(e=0;!b.Ld&&e<d.length;e++)b.currentTarget=
d[e],f=pc(d[e],a,!1,b),c=c&&f}return c}return qc(a,new Yb(b,this))}function kc(a){a=a[ec];return a instanceof bc?a:null}var rc="__closure_events_fn_"+(1E9*Math.random()>>>0);function ic(a){A(a,"Listener can not be null.");if(xa(a))return a;A(a.handleEvent,"An object listener must have handleEvent method.");a[rc]||(a[rc]=function(b){return a.handleEvent(b)});return a[rc]};function sc(){this.Sc=this.nc=null}function tc(a){var b=new H;a.Sc=a.Sc||[];a.Sc.push(b);return b};function uc(){this.yb=this.ab=this.qc=null}uc.prototype.push=function(a,b){if(0==b)this.yb=this.yb||[];else if(this.qc=this.qc||[0],this.ab=this.ab||{},!(b in this.ab)){this.ab[b]=[];var c=this.qc;var d=0;for(var e=c.length,f;d<e;){var h=d+e>>1;var k=c[h];k=b>k?1:b<k?-1:0;0<k?d=h+1:(e=h,f=!k)}d=f?d:~d;0>d&&Cb(c,-(d+1),0,b)}b=vc(this,b);A(b).push(a)};uc.prototype.remove=function(a,b){(b=vc(this,b))&&xb(b,a)};function wc(a,b){return 0==b?a.yb||[]:b in A(a.ab)?A(vc(a,b)):[]}
function xc(a){if(!a.ab)return a.yb?a.yb.slice():[];for(var b=[],c=A(a.qc),d=0;d<c.length;++d){var e=vc(a,c[d]);e&&Bb(b,e)}return b}function vc(a,b){return 0==b?a.yb:A(a.ab)[b]};function H(a){a=void 0===a?null:a;sc.call(this);this.Ge=this.L=null;this.Rf=a}n(H,sc);H.prototype.mg=function(){return this.Rf};H.prototype.eventOwner=H.prototype.mg;H.prototype.addHandler=function(a,b,c){this.L=this.L||new uc;this.L.push({Gd:a,context:b},c||0)};H.prototype.addHandler=H.prototype.addHandler;H.prototype.removeHandler=function(a,b,c){c=c||0;if(this.L)for(var d=wc(this.L,c),e=d.length,f=0;f<e;++f){var h=d[f];if(h.Gd==a&&h.context==b){a=f;(c=vc(this.L,c))&&yb(c,a);break}}else Xa("EventDispatcher has no handlers!")};
H.prototype.removeHandler=H.prototype.removeHandler;H.prototype.pg=function(a,b,c){if(!this.L)return!1;c=wc(this.L,c||0);for(var d=c.length,e=0;e<d;++e){var f=c[e];if(f.Gd==a&&f.context==b)return!0}return!1};H.prototype.hasHandler=H.prototype.pg;
H.prototype.j=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];if(this.L){c=xc(this.L);for(var d=c.length,e=0;e<d;++e){var f=c[e];if(-1!=rb(xc(this.L),f))try{f.Gd.apply(f.context,arguments)}catch(h){eb(h,!0)}}}this.Ge&&this.Ge.forEach(function(a){a.j.apply(a,[].concat(b instanceof Array?b:pa(m(b))))})};H.prototype.dispatch=H.prototype.j;function yc(a){return a.L?xc(a.L).length:0};var zc={Lh:"prompt",Ag:"always",Ah:"never"};v("ispring.presenter.presentation.settings.PresentationResumeMode",zc,void 0);v("PROMPT_TO_RESUME","prompt",zc);v("ALWAYS_RESUME","always",zc);v("NEVER_RESUME","never",zc);function Ac(a,b){this.wd=a;this.Se=b;this.We=new H}g=Ac.prototype;g.Ya=!1;g.qb=0;g.Xa=0;g.Za=-1;g.wc=0;g.ce=0;g.start=function(a){this.Ya||(this.wc=this.qb=a||0,a=this.qb>=this.wd,a&&this.Se||(this.Ya=!0,this.Xa=x(),a||(this.Za=setTimeout(Da(this.Rb,this),this.wd-this.qb))))};g.Rb=function(){this.Se&&(this.stop(),this.wc=this.wd);this.We.j()};g.stop=function(){this.Ya&&(this.Ya=!1,0<this.Za&&(clearTimeout(this.Za),this.Za=-1),this.ce=x()-this.Xa,this.wc=this.ce+this.qb)};function Bc(a,b,c,d){this.Gf=a;this.Tf=b;this.ig=c;this.$e=d}Bc.prototype.login=function(){return this.Gf};Bc.prototype.password=function(){return this.Tf};Bc.prototype.userName=function(){return this.ig};function Cc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})};function Dc(a){this.ed=a}Dc.prototype.s=function(a,b,c){c=this.ed.hasOwnProperty(a)?this.ed[a]:c;if(q(c)){if(q(b)){a=this.Df;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];a&&(d=a(d));c=c.replace(new RegExp(d,"g"),e)}}return c}Xa("unknown message id: "+a);return a};Dc.prototype.getMessage=Dc.prototype.s;Dc.prototype.messages=function(){return this.ed};Dc.prototype.Df=function(a){return"%"+a.toUpperCase()+"%"};function Ec(a,b,c,d,e){this.je=a;this.f=new Dc(b);this.Ye=c;this.Xe=d;this.ta=e;this.bg=void 0}Ec.prototype.i18n=function(){return this.f};function Fc(a,b,c){var d=window.iSpring.LMSAPI;switch(a){case "1.2":return new d.Scorm12Api(b);case "2004":return new d.Scorm2004Api(b);case "aicc":return new d.AiccApi(b);case "tincan":return new d.TinCanApi(b,c);case "cmi-5":return new d.Cmi5Api(b,c);default:throw Error("unknown api");}};function Gc(){this.Qe=new H};function Hc(a,b,c,d){this.eg=a;this.Vc=b;this.cg=c;this.Ca=d}Hc.prototype.timeLimit=function(){return this.eg};Hc.prototype.message=function(){return this.Ca};var Ic={Rh:"resumePlayback",Vg:"gotoSlide",Ng:"delayStartup"};v("ispring.presenter.player.startup.PresentationStartup.Action",Ic,void 0);v("RESUME_PLAYBACK","resumePlayback",Ic);v("GOTO_SLIDE","gotoSlide",Ic);v("DELAY_STARTUP","delayStartup",Ic);function Jc(a,b){this.x=q(a)?a:0;this.y=q(b)?b:0}g=Jc.prototype;g.clone=function(){return new Jc(this.x,this.y)};g.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};g.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};g.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};g.translate=function(a,b){a instanceof Jc?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),t(b)&&(this.y+=b));return this};
g.scale=function(a,b){b=t(b)?b:a;this.x*=a;this.y*=b;return this};function Kc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}g=Kc.prototype;g.clone=function(){return new Kc(this.top,this.right,this.bottom,this.left)};g.contains=function(a){return this&&a?a instanceof Kc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
g.expand=function(a,b,c,d){ya(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};g.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
g.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};g.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
g.translate=function(a,b){a instanceof Jc?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(Ya(a),this.left+=a,this.right+=a,t(b)&&(this.top+=b,this.bottom+=b));return this};g.scale=function(a,b){b=t(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function I(a,b){this.width=a;this.height=b}g=I.prototype;g.clone=function(){return new I(this.width,this.height)};g.area=function(){return this.width*this.height};g.aspectRatio=function(){return this.width/this.height};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};g.scale=function(a,b){b=t(b)?b:a;this.width*=a;this.height*=b;return this};var Lc=!D||9<=Number(Qb);!Jb&&!D||D&&9<=Number(Qb)||Jb&&E("1.9.1");var Mc=D&&!E("9");function Nc(a,b){kb(b,function(b,d){b&&b.zi&&(b=b.yi());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Oc.hasOwnProperty(d)?a.setAttribute(Oc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Oc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Pc(a,b,c){var d=arguments,e=document,f=String(d[0]),h=d[1];if(!Lc&&h&&(h.name||h.type)){f=["<",f];h.name&&f.push(' name="',Ia(h.name),'"');if(h.type){f.push(' type="',Ia(h.type),'"');var k={};pb(k,h);delete k.type;h=k}f.push(">");f=f.join("")}f=e.createElement(f);h&&(r(h)?f.className=h:w(h)?f.className=h.join(" "):Nc(f,h));2<d.length&&Qc(e,f,d);return f}
function Qc(a,b,c){function d(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!wa(f)||ya(f)&&0<f.nodeType?d(f):sb(Rc(f)?Ab(f):f,d)}}function Sc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Tc(a){A(a,"Node cannot be null or undefined.");return 9==a.nodeType?a:a.ownerDocument||a.document}
function Uc(a,b){A(null!=a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else{for(var c;c=a.firstChild;)a.removeChild(c);c=Tc(a);a.appendChild(c.createTextNode(String(b)))}}var Vc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Wc={IMG:" ",BR:"\n"};
function Xc(a){if(Mc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Yc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Mc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Yc(a,b,c){if(!(a.nodeName in Vc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Wc)b.push(Wc[a.nodeName]);else for(a=a.firstChild;a;)Yc(a,b,c),a=a.nextSibling}function Rc(a){if(a&&"number"==typeof a.length){if(ya(a))return"function"==typeof a.item||"string"==typeof a.item;if(xa(a))return"function"==typeof a.item}return!1};function Zc(a,b,c){if(r(b))(b=$c(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],f=$c(c,d);f&&(c.style[f]=e)}}var ad={};function $c(a,b){var c=ad[b];if(!c){var d=Sa(b);c=d;void 0===a.style[d]&&(d=(Kb?"Webkit":Jb?"Moz":D?"ms":Hb?"O":null)+Ta(d),void 0!==a.style[d]&&(c=d));ad[b]=c}return c}function bd(a,b){var c=Tc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}
function cd(a){return new Jc(a.offsetLeft,a.offsetTop)}function dd(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function ed(a,b){var c=a.currentStyle?a.currentStyle[b]:null;if(c)if(/^\d+px?$/.test(c))a=parseInt(c,10);else{b=a.style.left;var d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=d;a=+c}else a=0;return a};function fd(a,b){if(!xa(a))if(a&&"function"==typeof a.handleEvent)a=Da(a.handleEvent,a);else throw Error("Invalid listener argument");2147483647<Number(b)||p.setTimeout(a,b||0)};function gd(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function hd(a){a=String(a);if(gd(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function id(a,b){return(new jd(b)).serialize(a)}function jd(a){this.Ic=a}
jd.prototype.serialize=function(a){var b=[];kd(this,a,b);return b.join("")};
function kd(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(w(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],kd(a,a.Ic?a.Ic.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),ld(d,c),c.push(":"),kd(a,a.Ic?a.Ic.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":ld(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var md={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},nd=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function ld(a,b){b.push('"',a.replace(nd,function(a){var b=md[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),md[a]=b);return b}),'"')};var od=B("Firefox"),pd=jb()||B("iPod"),qd=B("iPad"),rd=B("Safari")&&!((B("Chrome")||B("CriOS"))&&!B("Edge")||B("Coast")||B("Opera")||B("Edge")||B("Silk")||B("Android"))&&!(jb()||B("iPad")||B("iPod"));var sd=null,td=Jb||Kb&&!rd||Hb||"function"==typeof p.btoa;
function ud(a){if(td)var b=p.btoa(a);else{b=[];for(var c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);255<e&&(b[c++]=e&255,e>>=8);b[c++]=e}A(wa(b),"encodeByteArray takes an array as a parameter");if(!sd)for(sd={},a=0;65>a;a++)sd[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);a=sd;c=[];for(d=0;d<b.length;d+=3){var f=b[d],h=(e=d+1<b.length)?b[d+1]:0,k=d+2<b.length,l=k?b[d+2]:0,u=f>>2;f=(f&3)<<4|h>>4;h=(h&15)<<2|l>>6;l&=63;k||(l=64,e||(h=64));c.push(a[u],a[f],a[h],a[l])}b=
c.join("")}return b};function vd(a,b){this.o=a;this.tf=b||[]}v("iSpring.ios.mobile.MobileAppCommand",vd,void 0);vd.prototype.id=function(){return this[za]||(this[za]=++Aa)};vd.prototype.$b=function(){if(wd){var a=this.Qc(this.o,this.tf);xd(a)}};vd.prototype.Qc=function(a,b){var c=this.id();b=id(b,null);return"isplayer://"+a+"/"+c+"/"+ud(b)};function xd(a){try{var b=document.createElement("iframe");Zc(b,{width:"1px",height:"1px",border:"0"});b.src=a;document.body.appendChild(b);fd(function(){Sc(b)},100)}catch(c){}};function J(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}J.prototype.BYTES_PER_ELEMENT=8;J.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};J.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{J.BYTES_PER_ELEMENT=8}catch(a){}J.prototype.BYTES_PER_ELEMENT=J.prototype.BYTES_PER_ELEMENT;J.prototype.set=J.prototype.set;J.prototype.toString=J.prototype.toString;v("Float64Array",J,void 0)};function K(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}K.prototype.BYTES_PER_ELEMENT=4;K.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};K.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(K.BYTES_PER_ELEMENT=4,K.prototype.BYTES_PER_ELEMENT=K.prototype.BYTES_PER_ELEMENT,K.prototype.set=K.prototype.set,K.prototype.toString=K.prototype.toString,v("Float32Array",K,void 0));function yd(a){a:{var b=["transformOrigin","webkitTransformOrigin","msTransformOrigin","MozTransformOrigin","OTransformOrigin"];for(var c=0;c<b.length;++c)if(q(a.style[b[c]])){b=b[c];break a}throw Error("browser doesn't support css style "+b[0]);}Zc(a,b,"0 0")};function zd(a,b,c,d){c=c||0;var e=Array.prototype.slice.call(arguments,3);setTimeout(function(){a.apply(b||null,e)},c)}
function Ad(){if(Bd)return new I(document.documentElement.clientWidth,document.documentElement.clientHeight);if(Cd&&D)return new I(screen.width,screen.height);var a=q(window.devicePixelRatio)?window.devicePixelRatio:1;return Dd?new I(screen.width/a,screen.height/a):Cd?Ed&&(a=Math.max(screen.width,screen.height),document.documentElement.clientWidth>a)?new I(Math.max(document.documentElement.clientWidth,a),Math.max(document.documentElement.clientHeight,Math.min(screen.width,screen.height))):new I(screen.width,
screen.height):new I(screen.width*a,screen.height*a)}function Fd(){return Gd(window.location.search.substr(1),void 0)}function Gd(a,b){if(!a)return{};var c={};a=a.split("&");for(var d=0;d<a.length;++d){var e=a[d].split("=");if(2==e.length){try{var f=Ha(e[0])}catch(k){f=e[0]}try{var h=Ha(e[1])}catch(k){h=e[1]}b||(f=f.toLowerCase());c[f]=h}}return c}function Hd(){if(wd)(new vd("closeWindow")).$b();else try{Dd||(window.open("","_self",""),window.close())}catch(a){}}
function Id(a){if(!a)return!1;for(;a;){if("A"==a.nodeName.toLocaleUpperCase())return!0;a=a.parentNode}return!1};function Jd(a){var b="\r";if(0==a.length)return"";null!=b||(b="");var c=0,d="",e=a.length;do{var f=Kd(a,["<p>","<p "],c);if(f&&f.Ec>c){c=a.substr(c,f.Ec-c);var h=Pc("DIV");h.innerHTML=c;d+=(h.textContent||h.innerText||Xc(h))+b;c=f.Ec}if(h=Kd(a,["</p>","</p >"],c)){f=h.Ec+h.vg.length-c;var k=a.substr(c,f);h=Pc("DIV");h.innerHTML=k;d+=(h.textContent||h.innerText||Xc(h))+b;c+=f}else return h=Pc("DIV"),h.innerHTML=a.substr(c,e-c),d+(h.textContent||h.innerText||Xc(h))}while(c<e);return d}
function Kd(a,b,c){w(b)||(b=[b]);var d=void 0,e=void 0;sb(b,function(b){var f=a.indexOf(b,c);0<=f&&(!q(d)||f<d)&&(d=f,e=b)});return q(e)&&q(d)?new Ld(e,d):null}function Ld(a,b){this.vg=a;this.Ec=b};function L(a,b){this.qa=a;this.Ba=b}L.prototype.id=function(){return this.qa};L.prototype.description=function(){return this.Ba};function Md(){this.l=[]}Md.prototype.count=function(){return this.l.length};function M(a,b){a.l.push(b)}Md.prototype.getChoice=function(a){if(0>a||a>=this.count())throw Error("Index out of bounds");return this.l[a]};function N(){this.l=new Md};function Nd(a){a=Ga(a);return a=a.replace(/[^\w-]/g,"_")}function Od(a,b){return"0123456789abcdefghijklmnopqrstuvwxyz"[((null!=b?b:1)?a:35-a)%36]};function Pd(a,b,c,d){this.rc=a;this.Xf=b;this.Yf=c;this.Wf=d;this.sd=void 0}function Qd(a){a=Jd(a.text());a=Ia(a);if(!a)return"";var b=document.createElement("div");b.innerHTML=a;return b.firstChild.nodeValue}
Pd.prototype.create=function(){var a=0,b=[],c=this.Xf,d=this.Wf,e=new Rd(c.id()+"_"+a);a+=1;e.o=Sd;if(null!=c.message()){var f=c.message().text();f=Jd(f);e.Ba=f;f=c.message().replies();null!=c.speech()&&0<Jd(c.speech())&&(a=new Rd(c.id()+"_"+a),a.o=Td,c=Jd(c.speech()),a.Ba=c,a.Ha=Ud,Vd(this,a),b.push(a))}else f=Jd(c.speech()),e.Ba=f,f=c.replies();0==f.count()&&(e.o=Td);c=null;for(var h=a=0,k=-1,l=[],u=0;u<f.count();u++){var y=f.getReply(u);null!=d&&y==d&&(k=u);a=Math.max(a,y.score());l.push(Wd(this,
u,Qd(y)))}null!=d&&(c=Wd(this,k,Qd(d)),h=Math.max(h,d.score()));d=f;f=new N;for(k=0;k<d.count();++k)u=Qd(d.getReply(k)),M(f.l,new L(Nd(k+"_"+u),u));e.ca=f;e.D=c;e.I=l;this.rc.scenario().settings().evaluationSettings().enabled()&&(e.fb(a),e.fc=h);e.Ha=Ud;Vd(this,e);b.push(e);return b};function Wd(a,b,c){c=Nd(b+"_"+c);b=Od(b);return a.Yf?b:c}function Vd(a,b){null!=a.sd&&(b.Bd=new Date(a.sd),b.ja(x()-a.sd))};function Xd(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];return b};function Yd(a,b,c,d,e,f){this.Ka=a;this.dg=b;this.fg=e;this.Sf=f;this.Ea={};for(a=0;a<c.length;++a)b=c[a],e=b[1],this.Ea[b[0]]=e,0<e&&++this.kb;this.sb={};for(a=0;a<d.length;++a)c=d[a],b=c[1],this.sb[c[0]]=b,0<b&&++this.kb}g=Yd.prototype;g.kb=0;g.slidesWeight=function(){return 0<this.Ka?this.dg:0};g.slidesToView=function(){return this.Ka};g.totalScore=function(){return this.fg};g.passingScore=function(){return this.Sf};var Zd={id:"http://adlnet.gov/expapi/verbs/attempted",display:{"en-US":"attempted"}},$d={id:"http://adlnet.gov/expapi/verbs/experienced",display:{"en-US":"experienced"}},ae={id:"http://adlnet.gov/expapi/verbs/passed",display:{"en-US":"passed"}},be={id:"http://adlnet.gov/expapi/verbs/failed",display:{"en-US":"failed"}},ce={id:"http://adlnet.gov/expapi/verbs/completed",display:{"en-US":"completed"}},de={id:"http://adlnet.gov/expapi/verbs/answered",display:{"en-US":"answered"}},ee={id:"http://adlnet.gov/expapi/verbs/suspended",
display:{"en-US":"suspended"}},fe={id:"http://adlnet.gov/expapi/verbs/responded",display:{"en-US":"responded"}};var ge=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function he(){this.Lb=this.rd=this.gc=this.sa=this.da=this.tb=this.nb=this.ob=this.vb=null}g=he.prototype;g.initialized=function(){return vb([this.vb,this.nb,this.ob,this.tb,this.da,this.sa,this.gc,this.rd,this.Lb],va)};g.Fb=function(){return this.vb};g.eb=function(){return this.ob};g.maxScore=function(){return this.nb};g.Hc=function(){return this.tb};g.duration=function(){return this.da};g.pf=function(){return this.sa};g.Fd=function(){return this.gc};g.ja=function(a){this.da=a};g.response=function(){return this.rd};function ie(a,b){b=void 0===b?null:b;this.qa=Cc();this.Wb=a;this.Jf=b;this.nd=this.pb=null;this.Ha=new he;this.xd=x();this.Ib=null;this.Hb=[]}function je(a,b,c,d,e){var f=a.result();!c&&d?a.Wb=ee:e?a.Wb=ce:null===b?a.Wb=$d:(a.Wb=b?ae:be,f.sa=b);f.gc=c}ie.prototype.id=function(){return this.qa};ie.prototype.wg=function(){return this.Wb};ie.prototype.result=function(){return this.Ha};ie.prototype.timestamp=function(){return this.xd};function ke(a,b,c){a.Ib||(a.Ib={});a.Ib[b]=c};function le(a){t(a)&&(a=new Date(a));return a.getUTCFullYear()+"-"+me(a.getUTCMonth()+1)+"-"+me(a.getUTCDate())+"T"+me(a.getUTCHours())+":"+me(a.getUTCMinutes())+":"+me(a.getUTCSeconds())+".0Z"}function me(a){return 10>a?"0"+a:a}var ne=null;function oe(){if(!ne){var a=document.createElement("iframe");Zc(a,{width:"1px",height:"1px",border:"0"});ne=a;document.body.appendChild(ne)}a=ne.contentDocument;for(var b=x();100>x()-b;){a.open();for(var c=0;300>c;++c)a.write("sleep");a.close()}}
function pe(){var a=null;if(D&&11>parseFloat(Mb))try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}a||"undefined"==typeof XMLHttpRequest||(a=new XMLHttpRequest);return a}function qe(){try{var a=document.getElementById("preloader");a&&a.parentNode.removeChild(a)}catch(b){}}
function re(a,b,c,d,e){function f(a){for(var b in a)null===a[b]&&delete a[b]}b={actor:d,verb:a.wg(),object:{objectType:"Activity",id:a.Jf||b},context:{contextActivities:{grouping:{id:c},parent:{id:a.nd||c}}}};0<a.Hb.length&&(b.context.contextActivities.category=ub(a.Hb,function(a){return{id:a}}));a.id()&&(b.id=a.id());e&&(b.context.registration=e);a.Ib&&(b.context.extensions=a.Ib);a.pb&&(b.object.definition=a.pb);b.timestamp=le(a.timestamp());a=a.result();a.initialized()&&(e=a.duration(),e={success:a.pf(),
completion:a.Fd(),duration:e&&"PT"+Math.floor(e/3600)+"H"+Math.floor(e%3600/60)+"M"+Math.floor(e%60)+"S",response:a.response()},f(e),c={scaled:a.Fb(),min:a.eb(),max:a.maxScore(),raw:a.Hc()},f(c),0<lb(c)&&(e.score=c),(a=a.Lb)&&(e.extensions=a),b.result=e);return b};function se(a,b){this.qa="";this.If=a;this.Bf=b}se.prototype.id=function(){return this.qa};se.prototype.name=function(){return this.If};se.prototype.email=function(){return this.Bf};var Sd="choice",Td="other";var Ud="neutral";function Rd(a){this.qa=a}g=Rd.prototype;g.Ba="";g.D=null;g.I=null;g.Ha="unanticipated";g.Me=0;g.fc=null;g.da=null;g.Bd=null;g.ca=null;g.id=function(){return this.qa};g.type=function(){return this.o};g.description=function(){return this.Ba};function te(a,b){a.I=b}g.result=function(){return this.Ha};g.score=function(){return this.Me};g.fb=function(a){this.Me=a};g.awardedScore=function(){return this.fc};g.duration=function(){return this.da};g.ja=function(a){this.da=a};g.Zb=function(){return this.ca};
function ue(a,b){a.ca=b};function ve(){this.duration=this.Cb=this.awardedScore=this.maxScore=this.eb=null};function we(){}we.prototype.create=function(a){var b=a.group().id();b=new Rd(this.v(b));this.b(b,a);return b};we.prototype.b=function(a,b){var c=b.group().title();a.Ba=c;a.o=Td;a.fb(b.maxScore());c=b.awardedScore();a.fc=c;b=b.isPassed()?"correct":"incorrect";a.Ha=b};we.prototype.v=function(a){return Nd(a)};function xe(a,b){this.g=a;this.rc=b};var P={ai:"slidePool",Dg:"authorizationForm",dh:"informationSlide",eh:"introSlide",Qh:"resultSlide",$g:"hotspotQuestion",fh:"likertScaleQuestion",si:"wordBankQuestion",Rg:"essayQuestion",pi:"typeInQuestion",Zh:"shortAnswerQuestion",Sg:"fillInTheBlankQuestion",Tg:"fillInTheBlankSurveyQuestion",Dh:"numericQuestion",Eh:"numericSurveyQuestion",Yh:"sequenceQuestion",Oh:"rankingQuestion",ri:"whichWordQuestion",wh:"multipleChoiceTextQuestion",xh:"multipleChoiceTextSurveyQuestion",vh:"multipleChoiceQuestion",
yh:"multipleResponseQuestion",Ih:"pickOneQuestion",Hh:"pickManyQuestion",oi:"trueFalseQuestion",ti:"yesNoQuestion",nh:"matchingQuestion",oh:"matchingSurveyQuestion"};v("ispring.quiz.slides.SlideType",P,void 0);v("SLIDE_POOL","slidePool",P);v("INFORMATION_SLIDE","informationSlide",P);v("INTRO_SLIDE","introSlide",P);v("HOTSPOT_QUESTION","hotspotQuestion",P);v("LIKERT_SCALE_QUESTION","likertScaleQuestion",P);v("WORD_BANK_QUESTION","wordBankQuestion",P);v("RESULT_SLIDE","resultSlide",P);
v("ESSAY_QUESTION","essayQuestion",P);v("TYPE_IN_QUESTION","typeInQuestion",P);v("SHORT_ANSWER_QUESTION","shortAnswerQuestion",P);v("FILL_IN_THE_BLANK_QUESTION","fillInTheBlankQuestion",P);v("FILL_IN_THE_BLANK_SURVEY_QUESTION","fillInTheBlankSurveyQuestion",P);v("NUMERIC_QUESTION","numericQuestion",P);v("NUMERIC_SURVEY_QUESTION","numericSurveyQuestion",P);v("SEQUENCE_QUESTION","sequenceQuestion",P);v("RANKING_QUESTION","rankingQuestion",P);v("WHICH_WORD_QUESTION","whichWordQuestion",P);
v("MULTIPLE_CHOICE_TEXT_QUESTION","multipleChoiceTextQuestion",P);v("MULTIPLE_CHOICE_TEXT_SURVEY_QUESTION","multipleChoiceTextSurveyQuestion",P);v("MULTIPLE_CHOICE_QUESTION","multipleChoiceQuestion",P);v("MULTIPLE_RESPONSE_QUESTION","multipleResponseQuestion",P);v("PICK_ONE_QUESTION","pickOneQuestion",P);v("PICK_MANY_QUESTION","pickManyQuestion",P);v("TRUE_FALSE_QUESTION","trueFalseQuestion",P);v("YES_NO_QUESTION","yesNoQuestion",P);v("MATCHING_QUESTION","matchingQuestion",P);
v("MATCHING_SURVEY_QUESTION","matchingSurveyQuestion",P);function ye(a,b,c,d,e){this.type=a;this.Cb=b;this.maxScore=q(c)?c:null;this.Hc=q(d)?d:null;this.Fb=q(e)?e:null}ye.prototype.Md=function(){var a={};a[ze]=this.Cb;a[Ae]=this.maxScore;a[Be]=this.Hc;a[Ce]=this.Fb;a[De]=this.type;return a};var ze="p",Ae="m",Be="r",Ce="s",De="t";function Ee(){this.bb=[];this.Ja={}}g=Ee.prototype;g.mc=-1;g.da=0;g.pc=null;g.duration=function(){return this.da};g.ja=function(a){this.da=a};g.Md=function(){var a={};a[Fe]=this.da;a[Ge]=this.mc;a[He]=this.bb;a[Ie]=this.pc;var b={},c;for(c in this.Ja)b[c]=this.Ja[c].Md();a[Je]=b;return a};var Ge="l",He="v",Fe="d",Ie="p",Je="q";(function(){function a(a){try{return a.ISPlayer&&(window.ISPlayer=a.ISPlayer),a.ISPVideoPlayer&&(window.ISPVideoPlayer=a.ISPVideoPlayer),a.ISPQuizPlayer&&(window.ISPQuizPlayer=a.ISPQuizPlayer),a.ISPInteractionPlayerCore&&(window.ISPInteractionPlayerCore=a.ISPInteractionPlayerCore),a.ISPBookPlayer&&(window.ISPBookPlayer=a.ISPBookPlayer),a.ISPScenarioPlayer&&(window.ISPScenarioPlayer=a.ISPScenarioPlayer),!0}catch(e){return!1}}if(function(){try{var a=window.frameElement}catch(e){}return null!=a}())for(var b=
window,c=7;b&&b.parent!=b&&0!=c--&&!a(b.parent);)b=b.parent})();var Ke;var Le=Fd().user_agent;Ke=Le?Le:gb||"";var Ed=qd||pd,Bd="1"==Fd().small_screen;Fd();function Me(){var a=Ke.toLowerCase();return-1!=a.indexOf("android")||-1!=a.indexOf("mobile")||-1!=a.indexOf("wpdesktop")||Bd}
var Ne=-1!=Ke.toLowerCase().indexOf("chrome"),Oe=-1==Ke.toLowerCase().indexOf("windows phone")&&-1!=Ke.toLowerCase().indexOf("android"),Cd=Me(),Pe=Cd&&(Me()?"ontouchstart"in window||q(window.DocumentTouch)&&document instanceof window.DocumentTouch||-1!=Ke.toLowerCase().indexOf("touch"):!1),Re=Qe&&D,Dd=Oe&&!Ne&&!od&&!Hb,wd=-1!=Ke.indexOf("ismobile"),Se;if(!(Se=Bd))if(window._ispringFullsizeSkin)Se=!1;else{var Te=Ad();Se=pd||700>Math.min(Te.width,Te.height)}
var Qe=Se,Ue=document.createElement("audio"),Ve=Ue.play&&Ue.play();Ve&&Ve.then(function(){Ue.pause()},function(){});Fd();Fd();function We(){return 1==window._ispringDebug||"1"==Fd().isdebug}
if(B("Windows")){var Xe=gb,Ye="",Q;if(B("Windows")){Q=/Windows (?:NT|Phone) ([0-9.]+)/;var R=Q.exec(Xe);Ye=R?R[1]:"0.0"}else jb()||B("iPad")||B("iPod")?(Q=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,Ye=(R=Q.exec(Xe))&&R[1].replace(/_/g,".")):B("Macintosh")?(Q=/Mac OS X ([0-9_.]+)/,Ye=(R=Q.exec(Xe))?R[1].replace(/_/g,"."):"10"):B("Android")?(Q=/Android\s+([^\);]+)(\)|;)/,Ye=(R=Q.exec(Xe))&&R[1]):B("CrOS")&&(Q=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,Ye=(R=Q.exec(Xe))&&R[1]);Qa(Ye||"","6")}cb=We;var Ze={Lg:"correct",Gh:"partiallyCorrect",bh:"incorrect",Ch:"notAnswered"};v("ispring.quiz.session.slides.questions.graded.review.GradedQuestionStatus",Ze,void 0);v("CORRECT","correct",Ze);v("PARTIALLY_CORRECT","partiallyCorrect",Ze);v("INCORRECT","incorrect",Ze);v("NOT_ANSWERED","notAnswered",Ze);function S(a){var b=a.xg;this.u=a.ug;this.df=b;this.B=!1}S.prototype.create=function(a){if(!a.submitted())return null;var b=a.slide().id();b=new Rd(this.v(b));this.b(b,a);return b};
S.prototype.b=function(a,b){var c=b.slide();c=T(this,c.description(),!0);a.Ba=c;b.hasBeenVisited()&&(a.ja(b.visitDuration()),c=b.firstVisitTime(),a.Bd=c);if(c=b.slide().settings().evaluation()){if(a.fb(b.maxScore()),b=b.review()){var d=Math.max(0,b.awardedScore());a.fc=d;d="unanticipated";switch(b.status()){case "correct":d="correct";break;case "incorrect":d="incorrect";break;case "partiallyCorrect":d="partially"}a.Ha=d}}else a.Ha=Ud;this.B=!!c};S.prototype.v=function(a){return Nd(a)};
function $e(a,b){return b.join(a.u?",":"[,]")}function af(a,b,c){return a.u?Od(b):a.v(b+"_"+c)}function T(a,b,c){return b.textWithEquations(a.u||!c?"Equation":"")};function bf(a){S.apply(this,arguments)}n(bf,S);bf.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o=this.u?Td:"fill-in";var c=b.contentState();b=[];var d=[];c=m(c.placeholders());for(var e=c.next();!e.done;e=c.next())e=e.value,b.push(e.response()),(e=e.correctAnswers())&&(this.df?d.push(e[0]):d.push(e.join("[,]")));a.D=b.join("[,]");if(this.B){b=d;if(this.u||this.df)b=[b.join(this.u?"[.]":"[,]")];a.I=b}};function cf(a,b){this.length=b;for(var c=0;c<b;++c)this[c]=a(c)};function df(a){S.apply(this,arguments)}n(df,S);df.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o=this.u?Td:Sd;var c=b.slide().content(),d=[],e=new N;c=c.extraWords();c=m(c);for(var f=c.next();!f.done;f=c.next()){f=f.value.text();var h=e.l.count();h=this.v(h+"_"+f);M(e.l,new L(h,f))}b=b.contentState().placeholders();this.B&&(c=[],this.Wc(b,e,c),a.I=[c.join("[,]")]);ef(b,e,d);a.D=d.join("[,]");a.ca=e};
df.prototype.Wc=function(a,b,c){a=m(a);for(var d=a.next();!d.done;d=a.next()){d=d.value.placeholder().value||"";var e=b.l.count();e=this.v(e+"_"+d);c.push(e);M(b.l,new L(e,d))}};function ef(a,b,c){var d={};a=m(a);for(var e=a.next();!e.done;d={Jc:d.Jc},e=a.next())d.Jc=e.value.response(),null!=d.Jc&&(e=new cf(function(a){return b.l.getChoice(a)},b.l.count()),e=wb(e,function(a){return function(b){return Ga(b.description())==a.Jc}}(d)),A(null!=e),c.push(e.id()))};function ff(a){S.apply(this,arguments)}n(ff,S);ff.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o="long-fill-in";b=b.contentState().response();a.D=b};function gf(){this.l=new Md;this.Oc=[]}z(gf,N);function hf(a){S.apply(this,arguments)}n(hf,S);hf.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o=Sd;var c=b.slide().content(),d=this.ad(c,b.contentState());a.D=d;this.B&&(d=[this.Xc(c)],a.I=d);b=this.Nb(c,b.contentState());a.ca=b};
hf.prototype.Nb=function(a,b){var c=new N;if(!this.B){c=new gf;for(var d=0;d<b.count();++d){var e=b.getChoiceState(d),f=e.choice(),h=a.getChoiceIndex(f);f.typeIn()&&(e=e.customAnswer(),c.Oc[h]=e)}}for(b=0;b<a.count();++b)d=a.getChoice(b),d=T(this,d.textRange(),!1),M(c.l,new L(this.v(b+"_"+d),d));return c};
hf.prototype.ad=function(a,b){for(var c=[],d=0;d<b.count();++d){var e=b.getChoiceState(d),f=e.choice(),h=T(this,f.textRange(),!1);e.selected()&&(e=a.getChoiceIndex(f),h=af(this,e,h),c.push(h))}return $e(this,c)};hf.prototype.Xc=function(a){for(var b=[],c=0;c<a.count();++c){var d=a.getChoice(c);d.correct()&&(d=af(this,c,T(this,d.textRange(),!1)),b.push(d))}return $e(this,b)};function jf(){this.sc=new Md;this.wb=new Md};function kf(a){S.apply(this,arguments)}n(kf,S);kf.prototype.b=function(a,b){var c=this;S.prototype.b.call(this,a,b);a.o=this.u?Td:"matching";var d=[],e=[],f=new N;b.contentState().placeholders().forEach(function(a,b){var h=a.response(),k=a.correctAnswer();a.answers().forEach(function(a){var l=f.l.count();l=b+"[.]"+c.v(l+"_"+a);a==k&&e.push(l);a==h&&d.push(l);M(f.l,new L(l,a))})});a.D=d.join("[,]");this.B&&te(a,[e.join("[,]")]);ue(a,lf(this,b.slide().content()))};
function lf(a,b){var c=new jf,d=0;sb(b.placeholders(),function(b,f){f+="";M(c.sc,new L(f,f));b.values.forEach(function(b){b=b.text();var e=a.v(d++ +"_"+b);M(c.wb,new L(e,b))})});return c};function mf(a){S.apply(this,arguments)}n(mf,S);g=mf.prototype;g.b=function(a,b){S.prototype.b.call(this,a,b);a.o="matching";var c=b.contentState(),d=b.slide().content(),e=this.qd(d);b=e.Zb;var f=e.premises;e=e.responses;c=this.Yc(c.matches(),f,e,this.u);a.D=c;this.B&&(c=[this.Zc(d.matches(),this.u)],a.I=c);a.ca=b};
g.qd=function(a){for(var b=new jf,c=[],d=[],e=a.matches(),f=0;f<e.count();++f){var h=e.getChoice(f);c.push(h.premise());d.push(h.response());var k=T(this,h.premise().textRange(),!1);h=T(this,h.response().textRange(),!1);M(b.sc,new L(this.v(f+"_"+k),k));M(b.wb,new L(this.v(f+"_"+h),h))}a=a.distractors();for(e=0;e<a.count();++e)f=a.getChoice(e),d.push(f),f=T(this,f.textRange(),!1),M(b.wb,new L(this.v(e+"_"+f),f));return{Zb:b,premises:c,responses:d}};
g.Yc=function(a,b,c,d){var e=[];a=m(a);for(var f=a.next();!f.done;f=a.next()){var h=f.value;f=h.premise();h=h.response();var k=rb(b,f),l=rb(c,h);f=this.lb(f,k,h,l,d);e.push(f)}return this.Mb(e,d)};g.Zc=function(a,b){for(var c=[],d=0;d<a.count();++d){var e=a.getChoice(d);e=this.lb(e.premise(),d,e.response(),d,b);c.push(e)}return this.Mb(c,b)};g.Ob=function(a,b,c,d){return c?Od(b,d):b+"_"+T(this,a.textRange(),!1)};
g.lb=function(a,b,c,d,e){a=this.Ob(a,b,e,!0);c=this.Ob(c,d,e,!1);e=e?".":"[.]";return Nd(a)+e+Nd(c)};g.Mb=function(a,b){return a.join(b?",":"[,]")};function nf(a){S.apply(this,arguments)}n(nf,S);
nf.prototype.b=function(a,b){S.prototype.b.call(this,a,b);var c=b.slide();b=b.contentState().response();c=c.content();var d;a:{for(d=0;d<c.count();++d)if("notEqual"==c.getAnswer(d).comparisonOperation()){d=!0;break a}d=!1}a.o=this.u||d?"fill-in":"numeric";a.D=b;if(this.B){d=(b=this.u||d)?"[,]":"[.]";for(var e=[],f=0;f<c.count();++f){var h="",k=c.getAnswer(f),l=k.comparisonOperation();if("between"==l)l=k,h=l.leftOperand(),l=l.rightOperand(),h=b?"between "+h+" and "+l:h+"[:]"+l;else switch(k=k.operand(),
l){case "notEqual":b&&(h="not equal to "+k);break;case "equal":h=b?"equal to "+k:k+"[:]"+k;break;case "greaterThan":h=b?"greater than "+k:k+"[:]";break;case "greaterThanOrEqual":h=b?"greater than or equal to "+k:k+"[:]";break;case "lessThan":h=b?"less than "+k:"[:]"+k;break;case "lessThanOrEqual":h=b?"less than or equal to "+k:"[:]"+k}e.push(h)}a.I=[e.join(d)]}};function of(a){S.apply(this,arguments)}n(of,S);of.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o="sequencing";var c=b.slide().content();b=pf(this,c,b.contentState().studentResponse(),this.u);a.D=b;this.B&&(b=[pf(this,c,c,this.u)],a.I=b);c=this.Nb(c);a.ca=c};of.prototype.Nb=function(a){for(var b=new N,c=0;c<a.count();++c){var d=a.getChoice(c).textRange().text();M(b.l,new L(this.v(c+"_"+d),d))}return b};
function pf(a,b,c,d){var e=d?",":"[,]",f=[];c.forEach(function(c){var e=T(a,c.textRange(),!1);c=b.getChoiceIndex(c);f.push(Nd(d?Od(c,!0):c+"_"+e))});return f.join(e)};function qf(a){S.apply(this,arguments)}n(qf,S);qf.prototype.b=function(a,b){var c=this;S.prototype.b.call(this,a,b);a.o=Sd;var d=[],e=new N;b.contentState().statementsStates().forEach(function(a,b){var f=a.statement().text();M(e.l,new L(af(c,b,f),f));(a=a.selectedScale())&&d.push(c.v(b+"_"+a.text()))});a.D=$e(this,d);a.ca=e};function rf(a){S.apply(this,arguments)}n(rf,S);rf.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o="fill-in";var c=b.slide();b=b.contentState().response().text();a.D=b;this.B&&(c=this.Xc(c.content()),a.I=c)};rf.prototype.Xc=function(a){for(var b=[],c=0;c<a.count();++c){var d=a.getChoice(c);b.push(d.textRange().text())}return b};function sf(a){S.apply(this,arguments)}n(sf,S);g=sf.prototype;g.b=function(a,b){S.prototype.b.call(this,a,b);a.o="matching";var c=b.contentState(),d=b.slide().content(),e=this.qd(d);b=e.Zb;var f=e.premises,h=e.responses;e=e.tg;c=this.Yc(c.chainsStates(),f,h,e);a.D=c;this.B&&(c=[this.B?this.Zc(d.chains(),f,h,e):c],a.I=c);a.ca=b};
g.qd=function(a){var b=new jf,c=[],d=[];a=a.chains();a=m(a);for(var e=a.next();!e.done;e=a.next()){var f=e.value;e=f.object().slideObject();f=f.destination().slideObject();if(e&&0>c.indexOf(e)){c.push(e);var h=e.name();M(b.sc,new L(this.v(c.indexOf(e)+"_"+h),h))}f&&0>d.indexOf(f)&&(d.push(f),e=f.name(),M(b.wb,new L(this.v(d.indexOf(f)+"_"+e),e)))}a=this.u?Od(d.length,!1):d.length+"_None";M(b.wb,new L(a,"None"));return{Zb:b,premises:c,responses:d,tg:a}};
g.Yc=function(a,b,c,d){var e=[],f=b.slice();a=m(a);for(var h=a.next();!h.done;h=a.next()){var k=h.value;h=k.objectState().slideObject();k=k.destinationState().slideObject();k=this.lb(h,k,b,c,d);e.push(k);f.splice(f.indexOf(h),1)}f=m(f);for(a=f.next();!a.done;a=f.next())a=this.lb(a.value,null,b,c,d),e.push(a);return this.Mb(e)};
g.Zc=function(a,b,c,d){var e=[];a=m(a);for(var f=a.next();!f.done;f=a.next()){var h=f.value;f=h.object().slideObject();h=h.destination().slideObject();f&&(f=this.lb(f,h,b,c,d),e.push(f))}return this.Mb(e)};g.Ob=function(a,b,c){return this.u?Od(b,c):b+"_"+this.v(a.name())};g.lb=function(a,b,c,d,e){a=this.Ob(a,c.indexOf(a),!0);b=b?this.Ob(b,d.indexOf(b),!1):e;d=this.u?".":"[.]";return Nd(a)+d+Nd(b)};g.Mb=function(a){return a.join(this.u?",":"[,]")};function tf(a){S.apply(this,arguments)}n(tf,S);tf.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o=Sd;var c=[],d=[],e=new N;this.Wc(b.contentState(),e,d,c);a.D=$e(this,c);this.B&&(a.I=[$e(this,d)]);a.ca=e};
tf.prototype.Wc=function(a,b,c,d){var e=this;a.areas().forEach(function(f,h){var k=f.area(),l=k.label().text();h=af(e,h,l);k.correct()&&c.push(h);a.areaSelected(f)&&d.push(h);M(b.l,new L(h,l))});for(var f=a.areas().length,h=f;h<f+a.freePointsCount();++h){var k=af(this,h,"Untitled_Spot");d.push(k)}};function uf(a){S.apply(this,arguments)}n(uf,S);uf.prototype.b=function(a,b){S.prototype.b.call(this,a,b);a.o=Sd;var c=b.slide();b=b.contentState();var d=c.content();c=this.ad(c.content(),b);a.D=c;if(this.B){a:{for(c=0;c<d.count();++c){var e=d.getChoice(c);if(e.correct()){c=af(this,c,T(this,e.textRange(),!1));break a}}c=""}a.I=[c]}b=this.Nb(d,b);a.ca=b};
uf.prototype.Nb=function(a,b){var c=new N;if(this.fe()){c=new gf;for(var d=0;d<b.count();++d){var e=b.getChoiceState(d),f=e.choice(),h=a.getChoiceIndex(f);f.typeIn()&&(e=e.customAnswer(),c.Oc[h]=e)}}for(b=0;b<a.count();++b)d=a.getChoice(b),d=T(this,d.textRange(),!1),M(c.l,new L(this.v(b+"_"+d),d));return c};uf.prototype.fe=function(){return!this.B};
uf.prototype.ad=function(a,b){for(var c=0;c<b.count();++c){var d=b.getChoiceState(c);if(d.selected())return a=a.getChoiceIndex(d.choice()),af(this,a,T(this,d.choice().textRange(),!1))}return""};function vf(a){uf.apply(this,arguments)}n(vf,uf);vf.prototype.b=function(a,b){uf.prototype.b.call(this,a,b);if(this.u&&this.B){a.o="true-false";var c=b.slide().content();b=b.contentState();var d=c.getChoice(0).correct()?"t":"f",e="t"==d?"f":"t";c=c.getChoice(0).correct()?c.getChoice(0).id():c.getChoice(1).id();for(var f=null,h=0;2>h;++h){var k=b.getChoiceState(h);if(k.selected()){f=k.choice().id()==c?d:e;break}}a.D=f;a.I=[d]}};vf.prototype.fe=function(){return!1};var U={},wf=(U.FillInTheBlank=bf,U.WordBank=df,U.TypeIn=rf,U.Numeric=nf,U.MultipleChoice=uf,U.MultipleResponse=hf,U.MultipleChoiceText=kf,U.Sequence=of,U.Matching=mf,U.TrueFalse=vf,U.Essay=ff,U.Hotspot=tf,U.LikertScale=qf,U.DND=sf,U);function V(a,b){try{this.Lc=a;this.C=new Ee;this.jc={};this.Rc=null;this.Va=new Yd(b.slidesToView,b.slidesWeight,b.quizzes||{},b.scenarios||{},b.totalScore,b.passingScore);this.$a=new Hc(1E3*b.timeLimit,b.exitOnTimeout,b.showMessageOnTimeout,b.timeoutMessage);this.xb=new Ac(this.$a.timeLimit(),this.$a.Vc);var c=b.tincan.auth,d=new Bc(c.login,c.password,c.name,c.email);this.ta="never"!=b.resumeMode;var e=new Ec("ispring://presentations/"+encodeURIComponent(b.presentationId),b.tincan.i18n,b.tincan.endPoint,
d,this.ta);this.Oe=new Gc;this.g=Fc(a,e,this.Oe)}catch(f){We()&&alert(f)}}g=V.prototype;g.ie=!1;g.Qb=null;g.Qa=!1;g.A=null;g.Wa=null;g.Re=!1;g.W=null;g.Ia=null;var xf=g.Tb=null;v("iSpring.LMS.create",function(a,b,c){A(!xf);return xf=new V(b,c)},void 0);v("iSpring.LMS.instance",function(){return A(xf)},void 0);V.prototype.Id=function(a){this.Qb=a;null!=this.g?this.g.Id(Da(this.Of,this),Da(this.se,this)):this.se()};V.prototype.initialize=V.prototype.Id;
V.prototype.Of=function(){this.mb=this.g.ya();var a=null;var b=this.g.h.me;switch(this.mb){case "browse":a=null;break;case "review":b&&(a=yf(this,b));break;case "normal":this.ta&&b&&(a=yf(this,b))}window.launchMode=this.mb;q(a)&&(this.ie=!0,this.Qb&&this.Qb(a))};
function yf(a,b){var c=new Ee;c.da=C(b,Fe,0);c.mc=C(b,Ge,-1);c.bb=C(b,He,[]);c.pc=C(b,Ie,null);var d={};b=C(b,Je,{});for(var e in b){var f=b[e];d[e]=new ye(f[De],f[ze],f[Ae],f[Be],f[Ce])}c.Ja=d;a.Wa=c;c=a.Wa.duration();if(a.$a.Vc&&c>=a.$a.timeLimit())alert("You have already exceeded available time for viewing this content."),qe(),Hd();else return a.Wa.pc}V.prototype.se=function(){this.Qb&&this.Qb()};
V.prototype.start=function(a){if(this.ie){this.A=a;this.Qa=!0;this.Oe.Qe.j(a.presentation().title());var b=this.g.kf();null!=b&&null!=b.jg&&"off"==b.jg&&a.view().soundController().setVolume(0);a.startupEvent().addHandler(this.we,this);a.startupCompletedEvent().addHandler(this.xe,this);a.closeWindowEvent().addHandler(this.ne,this)}};V.prototype.start=V.prototype.start;
V.prototype.we=function(a){this.A.startupEvent().removeHandler(this.we,this);var b=(this.ta||"review"==this.mb)&&this.Wa?this.Wa.mc:-1;0<=b?(a.setSlideIndex(b),a.setAction("resumePlayback")):(b=this.A.view().playbackController().firstSlideIndex(),a.setSlideIndex(b),a.setAction("gotoSlide"))};
V.prototype.xe=function(a,b){this.A.startupCompletedEvent().removeHandler(this.xe,this);this.Re=!0;"resumePlayback"==a&&this.Wa&&(this.C=this.Wa);a=this.C.duration();this.xb.Ya||(this.xb.We.addHandler(this.Rb,this),this.xb.start(a));a=this.A.view().playbackController();a.slideChangeEvent().addHandler(this.fd,this);a=a.currentSlideIndex();a==b&&this.fd(a);this.A.stateChangedEvent().addHandler(this.ye,this)};V.prototype.ff=function(){this.Qa&&zf(this,this.ta)};V.prototype.closeLms=V.prototype.ff;
function zf(a,b){a.Qa&&(a.Qa=!1,a.Re&&(a.xb.stop(),Af(a),a.A.view().playbackController().slideChangeEvent().removeHandler(a.fd,a)),a.A.closeWindowEvent().removeHandler(a.ne,a),a.A.stateChangedEvent().removeHandler(a.ye,a),b?a.g.suspend():a.g.terminate())}g=V.prototype;
g.fd=function(a){if(this.W){var b=this.W;b.currentSessionChangedEvent().removeHandler(this.pe,this);(b=b.currentSession())&&Bf(this,b);this.W=null}this.Ia&&(this.Ia.currentSessionChangedEvent().removeHandler(this.qe,this),null!=this.Tb&&Cf(this),this.Ia=null);b=this.A.view().playbackController();if(a in this.Va.Ea){var c=this.W=b.quizPlayer(),d=(c[za]||(c[za]=++Aa))+"";d in this.jc||(this.jc[d]=!0,(d=this.g.h.Bb())&&c.setUserInfo(d.id(),{USER_NAME:d.name(),USER_EMAIL:d.email()}));c.currentSessionChangedEvent().addHandler(this.pe,
this);(c=c.currentSession())&&Df(this,c)}a in this.Va.sb&&(b=this.Ia=b.scenarioPlayer(),c=(b[za]||(b[za]=++Aa))+"",c in this.jc||(this.jc[c]=!0,c=this.g.h.Bb(),d=!b.userInfoIsLoaded(),c&&d&&b.setUserInfo(c.id(),{USER_NAME:c.name(),USER_EMAIL:c.email()})),c=b.currentSession(),null!=c&&Ef(this,c),b.currentSessionChangedEvent().addHandler(this.qe,this));c=this.A.presentation().slides().getSlide(a);"normal"==this.mb&&(b=this.g,c=c.title()?c.title():void 0,Ff(b.h,null,"/slides/"+a,$d,{name:b.xa(null!=
c?c:"Slide #"+(a+1)),type:"http://adlnet.gov/expapi/activities/module"}));b=this.C.bb;0<=rb(b,a)||b.push(a);this.C.mc=a;Gf(this)};function Af(a){var b=a.xb;b=b.Ya?x()-b.Xa+b.qb:b.wc;a.xb.Ya&&x();a.C.ja(b);b=a.A.persistState();a.C.pc=b;b=a.g.h;b.uc=a.C.Md();b.Ne.$b(!1)}function Gf(a){var b=a.Va;a.g.lf(0<b.Ka||0<b.kb);if(0<b.Ka||0<b.kb){var c=Hf(a),d=b.totalScore()*c;a.g.fb(c,0,b.totalScore(),d)}a.A.presentation().slides().count();a.g.Qd(If(a),Jf(a));Af(a);a.g.Ed()}
function If(a){var b=a.Va,c;if(!(c=!(0<b.Ka||0<b.kb))&&(c=a.ta)){a:if(0<a.Va.Ka&&0<a.C.bb.length)var d=!0;else{c=a.C.Ja;for(d in c)if(-1!=rb(a.C.bb,parseInt(d,10))){d=!0;break a}d=!1}c=!d}return c?null:Hf(a)*b.totalScore()>=b.passingScore()}function Jf(a){var b=a.Va,c=a.A.presentation().slides().count();b=lb(a.C.Ja)==lb(b.Ea)+lb(b.sb);return a.C.bb.length>=c&&b}
function Hf(a){var b=a.Va;if(!(0<b.Ka||0<b.kb))return 0;var c=0,d=a.C.Ja,e;for(e in d){var f=d[e],h=parseInt(e,10);c+=(null!=f.Fb?f.Fb:1)*(null!=(h in b.Ea?b.Ea[h]:null)?h in b.Ea?b.Ea[h]:0:h in b.sb?b.sb[h]:0)}d=0;0<b.Ka&&(d=a.A.presentation().slides().count(),d=a.C.bb.length/d*b.slidesWeight());a=Xd(mb(b.Ea))+Xd(mb(b.sb))+b.slidesWeight();return(c+d)/a}g.qe=function(){null!=this.Tb&&Cf(this);var a=this.Ia.currentSession();Ef(this,a)};
function Ef(a,b){"normal"==a.mb&&(a.Tb=b,b.showTerminalSceneEvent().addHandler(a.hd,a),b.onReplySelectedEvent().addHandler(a.gd,a),Kf(a.g,"/scenarios/"+b.scenario().id(),Zd,b.scenario().title()),b.completed()&&a.hd())}function Cf(a){var b=a.Tb;a.Tb=null;b.showTerminalSceneEvent().removeHandler(a.hd,a);b.onReplySelectedEvent().removeHandler(a.gd,a)}
g.hd=function(){var a=this.Ia.currentSession();A(a);var b=a.currentSceneState().scene();null!=b&&(null!=b.speech()&&0<b.speech().length||null!=b.message()&&0<b.message().text().length)&&this.gd();if(a.scenario().settings().evaluationSettings().enabled()){b=Math.max(0,a.maxScore());var c=Math.max(0,a.userScore()),d=0<b-0?c/(b-0):1;b=new ye("scenario",a.scenarioPassed(),b,c,d)}else b=new ye("scenario",!0);c=this.A.view().playbackController().currentSlideIndex();this.C.Ja[c+""]=b;b=new ve;b.duration=
a.duration();a.scenario().settings().evaluationSettings().enabled()&&(b.eb=0,b.maxScore=Math.max(0,a.maxScore()),b.awardedScore=Math.max(0,a.userScore()),b.Cb=a.scenarioPassed());Lf(this.g,"/scenarios/"+a.scenario().id(),$d,a.scenario().title(),b);Gf(this)};
g.gd=function(a){var b=this.Ia.currentSession();A(b);var c=b.currentSceneState().scene();null!=c&&(a=(new Pd(b,c,"1.2"==this.Lc,a)).create(),sb(a,function(a){if("tincan"==this.Lc||a.type()==Sd){var c="/scenarios/"+b.scenario().id(),d=c+"/scenes/"+a.id();var h=a.type()==Sd?fe:$d;this.g.Xb(c,d,h,a)}},this))};
function Df(a,b){if("normal"==a.mb){b.sessionModeChangedEvent().addHandler(a.Ae,a);var c=b.slidePoolState();c=m(c.questions());for(var d=c.next();!d.done;d=c.next())d.value.submittedEvent().addHandler(a.ze,a);Kf(a.g,"/quizzes/"+a.W.id(),Zd,b.quiz().title())}}function Bf(a,b){b.sessionModeChangedEvent().removeHandler(a.Ae,a);b=b.slidePoolState();b=m(b.questions());for(var c=b.next();!c.done;c=b.next())c.value.submittedEvent().removeHandler(a.ze,a)}
g.pe=function(){var a=this.W.currentSession();this.Rc&&Bf(this,this.Rc);(this.Rc=a)&&Df(this,a)};
g.Ae=function(a){if("testing"==a){a=this.W.currentSession();A(a);var b;if(b=a.evaluation()){var c=b.maxScore(),d=b.awardedScore(),e=b.awardedPercent()/100;b=new ye("quiz",b.quizPassed(),c,d,e)}else b=new ye("quiz",!0);c=this.A.view().playbackController().currentSlideIndex();this.C.Ja[c+""]=b;b=new ve;b.duration=a.quizDuration();if(c=a.evaluation())if(b.eb=0,b.maxScore=c.maxScore(),b.awardedScore=c.awardedScore(),b.Cb=c.quizPassed(),c=this.W.currentSession(),A(c),c=new xe(this.g,c),"byGroups"==c.rc.settings().passingScoreType()){d=
c.rc.slidePoolState();d=m(d.groups());for(var f=d.next();!f.done;f=d.next())e=c,(f=(new we).create(f.value))&&e.g.h.Xb("","/groups/"+f.id(),ce,f)}Lf(this.g,"/quizzes/"+this.W.id(),$d,a.quiz().title(),b);Gf(this)}};g.ze=function(a){var b=this.W.currentSession();A(b);if(a.initiated()){b=a.slide().type();var c=this.Lc;if(a=(new wf[b]({ug:"1.2"==c||"aicc"==c,xg:"tincan"==c})).create(a))b="/quizzes/"+this.W.id(),c=b+"/questions/"+a.id(),this.g.Xb(b,c,de,a)}};
g.ne=function(a){A(this.Qa);a.preventAction();this.ff()};g.Rb=function(){A(this.Qa);this.$a.cg&&alert(this.$a.message());this.$a.Vc&&zf(this,!1)};g.ye=function(a){A(this.Qa);a.actionPrevented()||(a.preventAction(),Af(this))};function Mf(a){this.Dc=a}Mf.prototype.set=function(a,b){q(b)?this.Dc.set(a,id(b)):this.Dc.remove(a)};Mf.prototype.get=function(a){try{var b=this.Dc.get(a)}catch(c){return}if(null!==b)try{return JSON.parse(b)}catch(c){throw"Storage: Invalid value was encountered";}};Mf.prototype.remove=function(a){this.Dc.remove(a)};function Nf(a){this.J=a;"string"==typeof a.actor?(a=hd(a.actor),A(a),this.gb=Of(a)):this.gb=a.actor}
function Of(a){function b(a,b){var c={},d;for(d in a)if(d in b)b[d](a,c,d);return c}function c(a,b,c){b[c]=a[c]}function d(a,b,c){a=a[c];w(a)&&(a=a[0]);b[c]=a}function e(a){return function(b,c,d){c[a]=b[d]}}return b(a,{objectType:c,name:d,mbox:function(a,b,c){d(a,b,c);a=b[c];0>a.indexOf("mailto:")&&(a="mailto:"+a);b[c]=a},mbox_sha1sum:d,openid:d,account:function(a,d,k){a=a[k];w(a)&&(a=a[0]);d[k]=b(a,{name:c,homePage:c,accountName:e("name"),accountServiceHomePage:e("homePage")})}})}g=Nf.prototype;
g.zb=function(){return this.gb};g.va=function(){return this.J.activity_id};g.Nd=function(a){this.J.activity_id=a};g.Gc=function(){return this.J.publisher_id};g.Pd=function(a){this.J.publisher_id=a};g.registration=function(){return this.J.registration};g.endpoint=function(){return this.J.endpoint};g.auth=function(){return this.J.auth};var Pf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qf(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?Ha(e):"")}}}function Rf(a,b,c){Za(a);if(w(b)){$a(b);for(var d=0;d<b.length;d++)Rf(a,String(b[d]),c)}else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))}
function Sf(a){var b=[],c;for(c in a)Rf(c,a[c],b);return b.join("&")};function Tf(a,b,c){this.Ad=a;this.Hf=b;this.ge={"Content-Type":"application/json","X-Experience-API-Version":"1.0.0"};this.Uf=c}Tf.prototype.url=function(){return this.Ad};Tf.prototype.method=function(){return this.Hf};Tf.prototype.headers=function(){return this.ge};function Uf(a,b){a.ge.Authorization=b}Tf.prototype.Kd=function(){return this.Uf};function Vf(a){this.Mc=a};function Wf(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function Xf(){}Xf.prototype.Bc=function(a,b,c){var d=pe();A(d);if(b||c)d.onreadystatechange=function(){4==d.readyState&&(Wf(d.status)?b&&b(d.responseText):c&&c(d.status),delete d.onreadystatechange)};Yf(d,a,!1)||c&&c(0)};Xf.prototype.Ud=function(a){var b=pe();A(b);if(!Yf(b,a,!0))throw 0;if(!Wf(b.status))throw b.status;return b.responseText};function Yf(a,b,c){try{a.open(b.method(),b.url(),!c);var d=b.headers(),e;for(e in d)a.setRequestHeader(e,d[e]);a.send(b.Kd());return!0}catch(f){return!1}};function Zf(){}function $f(){return window.XDomainRequest?new XDomainRequest:null}Zf.prototype.Bc=function(a,b,c){var d=$f();A(d);d.onload=function(){b&&b(d.responseText)};d.onerror=function(){c&&c(0)};d.onprogress=function(){};ag(d,a)};Zf.prototype.Ud=function(a){var b=$f();A(b);var c=!1,d=!1;b.onload=function(){d=c=!0};b.onerror=function(){c=!0};ag(b,a);for(a=x();!c&&1E3>x()-a;)oe();if(!d)throw 0;return b.responseText};
function ag(a,b){var c=b.url();var d=window.location.toString().match(Pf)[1]||null;if("file"!=d){var e=c.match(Pf)[1]||null;c=d+c.substr(e.length)}d={};e=c.indexOf("?");0<e&&(d=Gd(c.substr(e+1),!0),c=c.substr(0,e));c+="?method="+b.method();e=b.headers();pb(d,e);d.content=b.Kd()||"";try{a.open("POST",c),a.send(Sf(d))}catch(f){a.onerror&&a.onerror()}};var bg=null;function cg(){this.bd={}}cg.prototype.Bc=function(a,b,c){a=dg(this,a);this.bd[a.id()]={onload:function(a){b&&b(a)},onerror:function(){c&&c(0)}};a.$b()};cg.prototype.Ud=function(a){dg(this,a).$b();return""};function dg(a,b){b=id({url:b.url(),method:b.method(),headers:b.headers(),postData:b.Kd()});return a.Qc(b)}cg.prototype.Qc=function(a){return new vd("tincanRequest",[a])};
v("Tincan.MobileHttpTransport.onRequestComplete",function(a,b,c){var d=bg.bd[a];if(null==d)return"";delete bg.bd[a];fd(function(){if(b)d.onload(c);else d.onerror()},10);return"ok"},void 0);function eg(a){var b;if(b=D&&11>parseFloat(Mb))b=window.location.toString(),a=a.match(Pf),b=b.match(Pf),b=!(a[3]==b[3]&&a[1]==b[1]&&a[4]==b[4]);return b||!pe()?$f()?new Zf:null:new Xf};function fg(a){var b=a.F,c=a.Y,d=a.O;b=b-c-d^d>>>13;c=c-d-b^b<<8;d-=b;d=d-c^c>>>13;b-=c;b-=d;b^=d>>>12;c=c-d-b^b<<16;d-=b;d=d-c^c>>>5;b-=c;b-=d;b^=d>>>3;c=c-d-b^b<<10;d-=b;d=d-c^c>>>15;a.F=b;a.Y=c;return a.O=d}function gg(a,b){return hg(a[b+0])+(hg(a[b+1])<<8)+(hg(a[b+2])<<16)+(hg(a[b+3])<<24)}function hg(a){return 127<a?a-256:a};function ig(a,b,c){this.c=a;b+=c;a=[];for(var d=c=0;d<b.length;d++){var e=b.charCodeAt(d);128>e?a[c++]=e:(2048>e?a[c++]=e>>6|192:(55296==(e&64512)&&d+1<b.length&&56320==(b.charCodeAt(d+1)&64512)?(e=65536+((e&1023)<<10)+(b.charCodeAt(++d)&1023),a[c++]=e>>18|240,a[c++]=e>>12&63|128):a[c++]=e>>12|224,a[c++]=e>>6&63|128),a[c++]=e&63|128)}b=0;c=a.length;d={F:-1640531527,Y:-1640531527,O:314159265};for(e=c;12<=e;e-=12,b+=12)d.F+=gg(a,b),d.Y+=gg(a,b+4),d.O+=gg(a,b+8),fg(d);d.O+=c;switch(e){case 11:d.O+=a[b+
10]<<24;case 10:d.O+=(a[b+9]&255)<<16;case 9:d.O+=(a[b+8]&255)<<8;case 8:d.Y+=gg(a,b+4);d.F+=gg(a,b);break;case 7:d.Y+=(a[b+6]&255)<<16;case 6:d.Y+=(a[b+5]&255)<<8;case 5:d.Y+=a[b+4]&255;case 4:d.F+=gg(a,b);break;case 3:d.F+=(a[b+2]&255)<<16;case 2:d.F+=(a[b+1]&255)<<8;case 1:d.F+=a[b+0]&255}this.zd=fg(d)+""}ig.prototype.get=function(a){return this.c.get(this.zd+a)};ig.prototype.set=function(a,b){try{this.c.set(this.zd+a,b)}catch(c){}};ig.prototype.remove=function(a){this.c.remove(this.zd+a)};
function jg(a,b,c){this.N=a;this.Ga=b;this.rf=c||{};a=this.N.endpoint();wd?(bg||(bg=new cg),a=bg):a=eg(a);this.xc=a;this.c=null}g=jg.prototype;g.va=function(){return this.N.va()};g.Nd=function(a){this.N.Nd(a)};g.Gc=function(){return this.N.Gc()};g.Pd=function(a){this.N.Pd(a)};g.zb=function(){return this.N.zb()};g.Cd=function(a,b){kg(this,lg(this,a),b)};function kg(a,b,c){0<b.length?mg(a,ng(a,"statements","POST",id(b)),c,function(){og(a,b)}):c&&c()}
g.Td=function(a){0<a.length&&(a=lg(this,a),null===pg(this,ng(this,"statements","POST",id(a)))&&og(this,a))};g.Ac=function(a,b,c){var d=this;mg(this,ng(this,qg(this,"activities/state",a),"PUT",b),c,function(){rg(d,a,b)})};g.Sd=function(a,b){null===pg(this,ng(this,qg(this,"activities/state",a),"PUT",b))&&rg(this,a,b)};function sg(a,b){mg(a,ng(a,qg(a,"agents/profile","cmi5LearnerPreferences"),"GET",null),b)}
g.getState=function(a,b){if(this.c){var c=this.c.get("states")||{};if(a in c){b(c[a]);return}}mg(this,ng(this,qg(this,"activities/state",a),"GET",null),b)};function qg(a,b,c){var d=b+"?activityId="+encodeURIComponent(a.va())+"&agent="+encodeURIComponent(id(a.N.gb));if("activities/state"==b)d+="&stateId="+encodeURIComponent(c);else if("activities/profile"==b||"agents/profile"==b)d+="&profileId="+encodeURIComponent(c);(a=a.N.registration())&&(d+="&registration="+encodeURIComponent(a));return d}
function ng(a,b,c,d){b=a.N.endpoint()+b;c=new Tf(b,c,d);d=c.Ad;a=Sf(a.rf);if(a){b=d.indexOf("#");0>b&&(b=d.length);var e=d.indexOf("?");if(0>e||e>b){e=b;var f=""}else f=d.substring(e+1,b);d=[d.substr(0,e),f,d.substr(b)];b=d[1];d[1]=a?b?b+"&"+a:a:b;a=d[0]+(d[1]?"?"+d[1]:"")+d[2]}else a=d;c.Ad=a;return c}function mg(a,b,c,d){a.xc?(Uf(b,a.Ga.Mc),a.xc.Bc(b,function(b){c&&c(b);tg(a)},function(){d&&d();c&&c("")})):(d&&d(),c&&c(""))}
function pg(a,b){if(a.xc){Uf(b,a.Ga.Mc);try{var c=a.xc.Ud(b);tg(a);return c}catch(d){}}return null}function lg(a,b){var c=a.va(),d=q(a.Gc())?a.Gc():a.va(),e=a.N.zb();a=a.N.registration();for(var f=[],h=0;h<b.length;++h)f.push(re(b[h],c,d,e,a));return f}function og(a,b){if(a.c){var c=a.c.get("statements")||[];Bb(c,b);a.c.set("statements",c)}}function rg(a,b,c){if(a.c){var d=a.c.get("states")||{};d[b]=c;a.c.set("states",d)}}
function tg(a){if(a.c){var b=a.c.get("statements")||[];0<b.length&&(a.c.remove("statements"),kg(a,b));if(b=a.c.get("states")){a.c.remove("states");for(var c in b)a.Ac(c,b[c])}}};var ug="StopIteration"in p?p.StopIteration:{message:"StopIteration",stack:""};function vg(){}vg.prototype.next=function(){throw ug;};vg.prototype.za=function(){return this};function wg(a){if(a instanceof vg)return a;if("function"==typeof a.za)return a.za(!1);if(wa(a)){var b=0,c=new vg;c.next=function(){for(;;){if(b>=a.length)throw ug;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function xg(a,b){if(wa(a))try{sb(a,b,void 0)}catch(c){if(c!==ug)throw c;}else{a=wg(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==ug)throw c;}}}function yg(a){if(wa(a))return Ab(a);a=wg(a);var b=[];xg(a,function(a){b.push(a)});return b};function zg(){};function Ag(){}z(Ag,zg);Ag.prototype.clear=function(){var a=yg(this.za(!0)),b=this;sb(a,function(a){b.remove(a)})};function Bg(a,b){this.bc=a;this.Eb=b+"::"}z(Bg,Ag);Bg.prototype.set=function(a,b){this.bc.set(this.Eb+a,b)};Bg.prototype.get=function(a){return this.bc.get(this.Eb+a)};Bg.prototype.remove=function(a){this.bc.remove(this.Eb+a)};Bg.prototype.za=function(a){var b=this.bc.za(!0),c=this,d=new vg;d.next=function(){for(var d=b.next();d.substr(0,c.Eb.length)!=c.Eb;)d=b.next();return a?d.substr(c.Eb.length):c.bc.get(d)};return d};function Cg(a){this.ka=a}z(Cg,Ag);g=Cg.prototype;g.Jd=function(){if(!this.ka)return!1;try{return this.ka.setItem("__sak","1"),this.ka.removeItem("__sak"),!0}catch(a){return!1}};g.set=function(a,b){try{this.ka.setItem(a,b)}catch(c){if(0==this.ka.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};g.get=function(a){a=this.ka.getItem(a);if(!r(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};g.remove=function(a){this.ka.removeItem(a)};
g.za=function(a){var b=0,c=this.ka,d=new vg;d.next=function(){if(b>=c.length)throw ug;var d=Za(c.key(b++));if(a)return d;d=c.getItem(d);if(!r(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};g.clear=function(){this.ka.clear()};g.key=function(a){return this.ka.key(a)};function Dg(){var a=null;try{a=window.localStorage||null}catch(b){}this.ka=a}z(Dg,Cg);function Eg(a,b){this.ia={};this.w=[];this.dc=this.m=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Eg.prototype;g.ga=function(){Fg(this);for(var a=[],b=0;b<this.w.length;b++)a.push(this.ia[this.w[b]]);return a};g.Ma=function(){Fg(this);return this.w.concat()};g.Ab=function(a){return Gg(this.ia,a)};g.clear=function(){this.ia={};this.dc=this.m=this.w.length=0};
g.remove=function(a){return Gg(this.ia,a)?(delete this.ia[a],this.m--,this.dc++,this.w.length>2*this.m&&Fg(this),!0):!1};function Fg(a){if(a.m!=a.w.length){for(var b=0,c=0;b<a.w.length;){var d=a.w[b];Gg(a.ia,d)&&(a.w[c++]=d);b++}a.w.length=c}if(a.m!=a.w.length){var e={};for(c=b=0;b<a.w.length;)d=a.w[b],Gg(e,d)||(a.w[c++]=d,e[d]=1),b++;a.w.length=c}}g.get=function(a,b){return Gg(this.ia,a)?this.ia[a]:b};g.set=function(a,b){Gg(this.ia,a)||(this.m++,this.w.push(a),this.dc++);this.ia[a]=b};
g.addAll=function(a){if(a instanceof Eg){var b=a.Ma();a=a.ga()}else b=nb(a),a=mb(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};g.forEach=function(a,b){for(var c=this.Ma(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Eg(this)};g.za=function(a){Fg(this);var b=0,c=this.dc,d=this,e=new vg;e.next=function(){if(c!=d.dc)throw Error("The map has changed since the iterator was created");if(b>=d.w.length)throw ug;var e=d.w[b++];return a?e:d.ia[e]};return e};
function Gg(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Hg(a,b){this.nf=a;this.G=null;if(D&&!(9<=Number(Qb))){Ig||(Ig=new Eg);this.G=Ig.get(a);this.G||(b?this.G=document.getElementById(b):(this.G=document.createElement("userdata"),this.G.addBehavior("#default#userData"),document.body.appendChild(this.G)),Ig.set(a,this.G));try{this.G.load(this.nf)}catch(c){this.G=null}}}z(Hg,Ag);var Jg={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},Ig=null;
function Kg(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return Jg[a]})}g=Hg.prototype;g.Jd=function(){return!!this.G};g.set=function(a,b){this.G.setAttribute(Kg(a),b);Lg(this)};g.get=function(a){a=this.G.getAttribute(Kg(a));if(!r(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};g.remove=function(a){this.G.removeAttribute(Kg(a));Lg(this)};
g.za=function(a){var b=0,c=this.G.XMLDocument.documentElement.attributes,d=new vg;d.next=function(){if(b>=c.length)throw ug;var d=A(c[b++]);if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!r(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};g.clear=function(){for(var a=this.G.XMLDocument.documentElement,b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);Lg(this)};
function Lg(a){try{a.G.save(a.nf)}catch(b){throw"Storage mechanism: Quota exceeded";}};function Mg(a){this.de=a;this.zf=5E3}g=Mg.prototype;g.hc=null;g.Za=0;g.vc=!1;g.$b=function(a){this.hc=Ab(arguments);this.vc||(this.vc=!0,this.Za=setTimeout(Da(this.Rb,this),this.zf))};g.Rb=function(){this.vc=!1;this.de.apply(null,this.hc);this.hc=null};g.ng=function(a){this.cancel();this.de.apply(null,arguments)};g.cancel=function(){clearTimeout(this.Za);this.vc=!1;this.hc=null};function Ng(a,b,c){function d(a){for(var b=[],d=0;d<a.count();++d){var e=a.getChoice(d);b.push({id:e.id(),description:c(e.description())})}return b}if(a instanceof N){var e=d(a.l);0<e.length&&(b.choices=e)}else a instanceof jf&&(e=d(a.sc),a=d(a.wb),0<e.length&&0<a.length&&(b.source=e,b.target=a))};function Og(a){if(a.classList)return a.classList;a=a.className;return r(a)&&a.match(/\S+/g)||[]}function Pg(a,b){a.classList?b=a.classList.contains(b):(a=Og(a),b=0<=rb(a,b));return b}function Qg(a,b){a.classList?a.classList.add(b):Pg(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Rg(a,b){a.classList?a.classList.remove(b):Pg(a,b)&&(a.className=tb(Og(a),function(a){return a!=b}).join(" "))};function Sg(a,b,c,d,e,f){if(6==arguments.length)this.setTransform(a,b,c,d,e,f);else{if(0!=arguments.length)throw Error("Insufficient matrix parameters");this.R=this.U=1;this.T=this.S=this.$=this.aa=0}}g=Sg.prototype;g.clone=function(){return new Sg(this.R,this.T,this.S,this.U,this.$,this.aa)};g.setTransform=function(a,b,c,d,e,f){if(!(t(a)&&t(b)&&t(c)&&t(d)&&t(e)&&t(f)))throw Error("Invalid transform parameters");this.R=a;this.T=b;this.S=c;this.U=d;this.$=e;this.aa=f;return this};
g.scale=function(a,b){this.R*=a;this.T*=a;this.S*=b;this.U*=b;return this};g.translate=function(a,b){this.$+=a*this.R+b*this.S;this.aa+=a*this.T+b*this.U;return this};g.rotate=function(a,b,c){var d=new Sg,e=Math.cos(a);a=Math.sin(a);b=d.setTransform(e,a,-a,e,b-b*e+c*a,c-b*a-c*e);c=this.R;d=this.S;this.R=b.R*c+b.T*d;this.S=b.S*c+b.U*d;this.$+=b.$*c+b.aa*d;c=this.T;d=this.U;this.T=b.R*c+b.T*d;this.U=b.S*c+b.U*d;this.aa+=b.$*c+b.aa*d;return this};
g.toString=function(){return"matrix("+[this.R,this.T,this.S,this.U,this.$,this.aa].join()+")"};g.transform=function(a,b,c,d,e){var f=b;for(b+=2*e;f<b;){e=a[f++];var h=a[f++];c[d++]=e*this.R+h*this.S+this.$;c[d++]=e*this.T+h*this.U+this.aa}};function Tg(a){return Math.floor(1E6*a)/1E6}var Ug=null;function Vg(a){this.Je=a}Vg.prototype.yd=function(a){return[Tg(a.R),Tg(a.T),Tg(a.S),Tg(a.U),Tg(a.$),Tg(a.aa)]};function Wg(a){this.Je=a}z(Wg,Vg);Wg.prototype.yd=function(a){a=Wg.Pa.yd.call(this,a);a[4]+="px";a[5]+="px";return a};function Xg(a){H.call(this,a);this.ic=tc(this);this.ee=tc(this)}n(Xg,H);Xg.prototype.addHandler=function(a,b,c){H.prototype.addHandler.call(this,a,b,c);this.ic.j()};Xg.prototype.removeHandler=function(a,b,c){H.prototype.removeHandler.call(this,a,b,c);this.ee.j()};var Yg={yg:"alert",zg:"alertdialog",Bg:"application",Cg:"article",Eg:"banner",Fg:"button",Gg:"checkbox",Hg:"columnheader",Ig:"combobox",Jg:"complementary",Kg:"contentinfo",Mg:"definition",Og:"dialog",Pg:"directory",Qg:"document",Ug:"form",Wg:"grid",Xg:"gridcell",Yg:"group",Zg:"heading",ah:"img",gh:"link",hh:"list",ih:"listbox",jh:"listitem",kh:"log",lh:"main",mh:"marquee",ph:"math",qh:"menu",rh:"menubar",sh:"menuitem",th:"menuitemcheckbox",uh:"menuitemradio",zh:"navigation",Bh:"note",Fh:"option",
Jh:"presentation",Kh:"progressbar",Mh:"radio",Nh:"radiogroup",Ph:"region",Sh:"row",Th:"rowgroup",Uh:"rowheader",Vh:"scrollbar",Wh:"search",Xh:"separator",$h:"slider",bi:"spinbutton",ci:"status",di:"tab",ei:"tablist",fi:"tabpanel",gi:"textbox",hi:"textinfo",ii:"timer",ji:"toolbar",ki:"tooltip",li:"tree",mi:"treegrid",ni:"treeitem"};qb("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));var Zg={passive:!1},$g={passive:!0};function ah(a,b,c,d,e){this.qa=a;this.vf=b;this.wf=c;this.Zf=d;this.$f=e}g=ah.prototype;g.id=function(){return this.qa};g.clientX=function(){return this.vf};g.clientY=function(){return this.wf};g.screenX=function(){return this.Zf};g.screenY=function(){return this.$f};function bh(a,b){this.Kb=a;this.gg=b}function ch(a){A(0<a.length);for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(new ah(d.pointerId,d.clientX,d.clientY,d.screenX,d.screenY))}return new bh(a[0],b)}bh.prototype.touches=function(){return this.gg};bh.prototype.scale=function(){return this.Kb.scale};bh.prototype.rotation=function(){return this.Kb.rotation};var dh=["touchstart","mousedown"],eh=["touchend","mouseup"],fh=["touchmove","mousemove"];function gh(a){this.Zd=a;this.pa={};this.Ta={}}g=gh.prototype;g.Vb=!1;g.kc=-1;g.De=function(a){var b=a.na;A(b);if(!this.Vb||b.touches&&1==b.touches.length)this.Vb=!0,a=hh(a),ih(this,"touchStart",a)};g.Be=function(a){if(this.Vb){this.Vb=!1;var b=hh(a);if(ih(this,"touchEnd",b)){if(b=a.target)if("TEXTAREA"==b.nodeName)b=!0;else{var c=b.getAttribute("type");b="INPUT"==b.nodeName&&(!c||"text"==c)}else b=!1;b||Id(a.target)||a.preventDefault()}}};
g.Ce=function(a){a.target&&"VIDEO"==a.target.nodeName&&a.target.controls||!this.Vb||(a=hh(a),ih(this,"touchMove",a))};function hh(a){a=a.na;A(a);if(q(window.TouchEvent)&&a instanceof TouchEvent){A(a.touches);for(var b=[],c=0;c<a.touches.length;++c){var d=a.touches[c];b.push(new ah(d.identifier,d.clientX,d.clientY,d.screenX,d.screenY))}}else b=[],b.push(new ah(0,a.clientX,a.clientY,a.screenX,a.screenY));return a=new bh(a,b)}
g.te=function(a){a=a.na;this.pa[a.pointerId]=a;jh(this);var b=mb(this.pa);a=1==b.length?"touchStart":"touchMove";b=ch(b);ih(this,a,b)};g.ve=function(a){a=a.na;if(a.pointerId in this.pa){delete this.pa[a.pointerId];jh(this);var b=mb(this.pa),c=0<b.length?"touchMove":"touchEnd";0==b.length&&(b=[a]);b=ch(b);ih(this,c,b)&&a.preventDefault()}};g.ue=function(a){a=a.na;a.pointerId in this.pa&&(this.pa[a.pointerId]=a,jh(this),a=ch(mb(this.pa)),ih(this,"touchMove",a))};
function jh(a){0<a.kc&&clearTimeout(a.kc);a.kc=setTimeout(Da(a.Ef,a),200)}g.Ef=function(){this.pa={};this.kc=-1;for(var a in this.Ta)this.Ta.hasOwnProperty(a)&&this.Ta[a].Yb()};
function ih(a,b,c){var d=0,e=null,f;for(f in a.Ta)if(a.Ta.hasOwnProperty(f)){var h=a.Ta[f];var k=b;var l=c;if("touchEnd"==k)k=h.yc?1:0;else{var u=new Jc(l.touches()[0].clientX(),l.touches()[0].clientY());"touchStart"==k&&1==l.touches().length?(h.ma=u,h.yc=!0,h.Ve.j(),Re||F(window,"scroll",h.Yb,!1,h)):h.ma&&(kh(u,h.ma)||h.yc&&h.Yb());k=0}k>d&&(d=k,e=h)}return e?(c.Kb.defaultPrevented?e.Yb():(a=e,A(a.ma),a.Ue.j(a.ma.x,a.ma.y,c.Kb),b=x(),a.le&&(A(a.ke),1E3>b-a.le&&kh(a.ke,a.ma)&&a.Af.j(a.ma.x,a.ma.y,
c.Kb)),a.le=b,a.ke=a.ma),!0):!1};function lh(){this.Ue=new H;this.Af=new H;this.Ve=new H;this.Te=new H}lh.prototype.ma=null;lh.prototype.yc=!1;lh.prototype.Yb=function(){G(window,"scroll",this.Yb,!1,this);this.yc=!1;this.Te.j()};function kh(a,b){var c=a.x-b.x;a=a.y-b.y;return c*c+a*a<=(Oe?50:200)};var mh=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||setTimeout;var nh,oh=[];if(window.MutationObserver){nh=new MutationObserver(function(a){a&&a.forEach(function(a){A(a);a=m(a.removedNodes);for(var b=a.next();!b.done;b=a.next()){b=b.value;for(var d=m(oh),e=d.next();!e.done;e=d.next())e=e.value,xa(b.contains)&&b.contains(e.displayObject())&&e.ui()}})});var ph={subtree:!0,childList:!0};mh(function(){nh.observe(document.body,ph)})};function W(a){ya(a)&&1==a.nodeType?this.a=this.jb=a:(this.jb=Pc("DIV",qh("component_container",a)),this.a=this.ae(qh("component_base",a)),this.jb.appendChild(this.a));this.nc=[];this.pd=!1;if(Pe){var b=new gh(this.displayObject());this.V=new Xg;this.V.ic.addHandler(function(){if(1==yc(this.V)){var a=b.Zd;window.navigator.msPointerEnabled?(F(a,"MSPointerDown",b.te,!1,b),F(a,"MSPointerUp",b.ve,!1,b),F(a,"MSPointerMove",b.ue,!1,b)):(F(a,dh,b.De,Zg,b),F(a,eh,b.Be,!1,b),F(a,fh,b.Ce,$g,b))}},this);this.V.ee.addHandler(function(){if(0==
yc(this.V)){var a=b.Zd;window.navigator.msPointerEnabled?(G(a,"MSPointerDown",b.te,!1,b),G(a,"MSPointerUp",b.ve,!1,b),G(a,"MSPointerMove",b.ue,!1,b)):(G(a,dh,b.De,!1,b),G(a,eh,b.Be,!1,b),G(a,fh,b.Ce,!1,b))}},this);a=new lh;a.Ue.addHandler(function(a,b,e){this.ub(!1);this.pd&&e.preventDefault();this.enabled()&&this.Jb(e)},this);a.Te.addHandler(function(){this.ub(!0)},this);a.Ve.addHandler(function(){this.enabled()&&rh(this,!0)},this);b.Ta.tap=a}else this.pd=!0,this.V=new Xg,this.V.ic.addHandler(function d(){ab(this.V,
Xg);this.V.ic.removeHandler(d,this);var a=F(this.displayObject(),"mouseover",function(){this.enabled()&&0<yc(this.V)&&rh(this,!0)},!1,this);this.nc.push(a);a=F(this.displayObject(),"mouseout",function(){this.ub(!1)},!1,this);this.nc.push(a);a=F(this.displayObject(),"click",function(a){this.ub(!0);this.pd&&0<yc(this.V)&&(a.preventDefault(),a.stopPropagation());this.Jb(a)},!1,this);this.nc.push(a)},this);this.Le=new H}g=W.prototype;g.Qf=1;g.sf=!0;
g.Jb=function(a){!this.sf&&a&&(this.displayObject().blur(),this.a.blur());this.V.j(this,a)};g.resizeEvent=function(){return this.Le};g.setAttribute=function(a,b){this.displayObject().setAttribute(a,b)};g.removeAttribute=function(a){this.displayObject().removeAttribute(a)};g.ub=function(){rh(this,!1)};g.kg=function(){return this.a};W.prototype.baseElement=W.prototype.kg;W.prototype.displayObject=function(){return this.jb};W.prototype.displayObject=W.prototype.displayObject;g=W.prototype;
g.width=function(){if(q(this.bf))var a=this.bf;else a=this.a,a="SVG"==a.tagName.toUpperCase()?a.width.baseVal.value:(new I(a.offsetWidth,a.offsetHeight)).width;return a};g.height=function(){if(q(this.he))var a=this.he;else a=this.a,a="SVG"==a.tagName.toUpperCase()?a.height.baseVal.value:(new I(a.offsetWidth,a.offsetHeight)).height;return a};
g.resize=function(a,b){if(q(this.vi))throw Error("ResizeObserver is turned on");q(a)&&(this.displayObject().style.width=dd(a),this.a.style.width=dd(a));q(b)&&(this.displayObject().style.height=dd(b),this.a.style.height=dd(b));q(a)&&(this.bf=a);q(b)&&(this.he=b);this.Le.j(this)};g.x=function(){return q(this.cf)?this.cf:cd(this.displayObject()).x};g.y=function(){return q(this.ef)?this.ef:cd(this.displayObject()).y};
g.move=function(a,b){this.cf=a;this.displayObject().style.left=a+"px";this.ef=b;this.displayObject().style.top=b+"px"};g.enabled=function(){return!this.a.hasAttribute("disabled")};g.visible=function(){return"none"!=this.displayObject().style.display};g.Oa=function(a){this.displayObject().style.display=a?"":"none"};g.opacity=function(){return this.Qf};function X(a,b){b=sh(b);a.displayObject().appendChild(b)}
g.removeChild=function(a){a=sh(a);(a instanceof W?a.displayObject():a).parentNode==this.displayObject()&&this.displayObject().removeChild(a)};g.ae=function(a){return Pc("DIV",a)};function qh(a,b){return q(b)?b instanceof Array?(b=Ab(b),b.push(a),b):[a,b]:a}function rh(a,b){var c=a.uf?a.uf.xi("active"):"active",d=a.jb;b?Qg(d,c):Rg(d,c);a.jb!=a.a&&(a=a.a,b?Qg(a,c):Rg(a,c))}
g.Nf=function(a){document.activeElement!=this.displayObject()||a.defaultPrevented||13!=a.keyCode&&32!=a.keyCode||(a.preventDefault(),this.Jb(null))};function sh(a){return a instanceof W?a.displayObject():a};function Y(a,b){W.call(this,Pc(b||"DIV",a))}z(Y,W);function th(a){Y.call(this,a);var b="alertdialog";w(b)&&(b=b.join(" "));a=this.hg?this.a:this.jb;if(b){a:{for(c in Yg)if(Yg[c]==b){var c=!0;break a}c=!1}A(c,"No such ARIA role "+b);a.setAttribute("role",b)}else a.removeAttribute("role");this.ld=new H;this.Sa=new H}z(th,Y);g=th.prototype;g.rb=!1;function uh(a){var b=new W("modal_layer");F(b.displayObject(),"click",ta);a.ra=b}g.open=function(){A(!this.rb);this.rb=!0;this.md();this.ld.j(this)};g.Oa=function(a){th.Pa.Oa.call(this,a);this.ra&&this.ra.Oa(a)};
g.md=function(){this.Oa(!0);F(document,"keydown",this.He,!1,this)};g.close=function(){A(this.rb);this.rb=!1;this.Oa(!1);this.Sa.j(this);G(document,"keydown",this.He,!1,this)};g.He=function(a){A(a.target);var b=a.target.nodeName;"INPUT"!=b&&"TEXTAREA"!=b&&a.preventDefault()};function vh(a,b,c){Cd&&(this.vd=Pc("DIV"),Qg(this.vd,"tap_area"));W.call(this,b);this.vd&&X(this,this.vd);this.hg=!0;this.Ff=c?!0:!1;c&&this.a.setAttribute("aria-pressed",!1);a&&this.V.addHandler(this.Mf,this);Cd&&Qg(this.a,"mobile");this.yf=0;this.setAttribute("tabindex","0");this.a.setAttribute("tabindex","-1");F(this.displayObject(),"keydown",this.Nf,!1,this)}z(vh,W);g=vh.prototype;g.td=!1;g.Cf=!0;g.ae=function(a){a=Pc("BUTTON",a);D&&8>=Mb||(a.type="button");return a};g.selected=function(){return this.td};
g.enabled=function(){return this.Cf};g.Mf=function(){var a=!this.td;a?Qg(this.a,"selected"):Rg(this.a,"selected");this.Ff&&this.a.setAttribute("aria-pressed",a);this.td=a};g.ub=function(a){vh.Pa.ub.call(this,a);-1==this.yf&&this.a.blur()};g.Jb=function(a){this.enabled()&&vh.Pa.Jb.call(this,a)};function wh(a,b){q(b)||(b=!0);Y.call(this,a);b&&Zc(this.a,"display","table-cell");(Hb||D)&&this.a.setAttribute("unselectable","on")}z(wh,Y);function xh(a,b,c,d){th.call(this,"message_box");uh(this);var e=new wh("title");Uc(e.a,a);X(this,e);this.Ca=new wh("message",!1);Uc(this.Ca.a,b);X(this,this.Ca);a=new Y("buttons_panel");X(this,a);b=new vh(!1);Uc(b.a,c);X(a,b);F(b.displayObject(),"click",this.Lf,!1,this);q(d)&&(c=new vh(!1),Uc(c.a,d),X(a,c),F(c.displayObject(),"click",this.Kf,!1,this));this.ib=new H}z(xh,th);xh.prototype.Lf=function(){this.Yd=!1;this.close()};xh.prototype.Kf=function(){this.Yd=!0;this.close()};
xh.prototype.md=function(){xh.Pa.md.call(this);var a=this.Ca.height();32>a&&(a=Math.floor((32-a)/2)+"px",Zc(this.Ca.displayObject(),"padding-top",a),this.Ca.resize(void 0,32));a=this.Ca.height()+120;this.resize(void 0,a)};function yh(a){var b=this,c=new Y("popup_layer");a.appendChild(c.displayObject());this.La=c;this.La.Oa(!1);this.zc=[];this.Da=[];D&&8>=Mb||yd(this.La.displayObject());this.Fe=new H;F(a,"touchstart",function(a){for(var c=0;c<b.Da.length;c++){var d=b.Da[c];if(d.ra&&(a.target==d.ra.displayObject()||d.ra.displayObject().contains(a.target))){a.preventDefault();break}}},!1,this)}g=yh.prototype;g.dd=400;g.cd=300;g.Sb=1;
function zh(a,b){a.La.Oa(!0);a.zc.push(b);b.ld.addHandler(a.kd,a);b.Sa.addHandler(a.jd,a,-1);if(b.ra){var c=a.La.displayObject(),d=b.ra.displayObject();c.appendChild(d)}c=a.La.displayObject();d=b.displayObject();c.appendChild(d);b.rb?a.kd(b):a.jd(b)}function Ah(a,b){var c=rb(a.zc,b);0<=c&&(yb(a.zc,c),b.rb&&b.close(),b.ld.removeHandler(a.kd,a),b.Sa.removeHandler(a.jd,a,-1),Sc(b.displayObject()),b.ra&&Sc(b.ra.displayObject()));a.La.Oa(0<a.zc.length)}g.kd=function(a){this.Da.push(a);Bh(this);this.Fe.j(this.Da.length)};
g.jd=function(a){xb(this.Da,a);this.Fe.j(this.Da.length)};g.mf=function(a){this.Sb=a;this.La.resize(a*this.dd,a*this.cd);Bh(this)};function Ch(a){var b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;a.La.resize(a.Sb*b,a.Sb*c);a.dd=b;a.cd=c;Bh(a)}
function Bh(a){for(var b=a.Sb,c=a.dd,d=a.cd,e=b*c,f=b*d,h=0;h<a.Da.length;h++){var k=a.Da[h],l=k.width(),u=k.height(),y=b,sa=0,ka=0;if(l>c||u>d)y*=Math.min(1,c/l,d/u),sa=-1*(l-c)/(2*y),ka=-1*(u-d)/(2*y);else if(l>e||u>f)l>e&&(sa=-1*(l-e)/(2*b)),u>f&&(ka=-1*(u-f)/(2*b));if(q(k.mf))k.mf(a.Sb);else if(l=new Sg,l.scale(y,y),od||(ka=0),l.translate(sa,ka),!(D&&8>=Mb)){k=k.a;if(Ug)y=Ug;else{y=null;sa=Pc("DIV");ka=[["transform",Vg,{transform:"transform",transformOrigin:"transformOrigin"}],["webkitTransform",
Vg,{transform:"webkitTransform",transformOrigin:"webkitTransformOrigin"}],["msTransform",Vg,{transform:"msTransform",transformOrigin:"msTransformOrigin"}],["MozTransform",Wg,{transform:"MozTransform",transformOrigin:"MozTransformOrigin"}],["OTransform",Vg,{transform:"OTransform",transformOrigin:"OTransformOrigin"}]];for(u=0;u<ka.length;++u)if(q(sa.style[ka[u][0]])){y=new ka[u][1](ka[u][2]);break}if(!y)throw Error("browser doesn't support css matrix transformation");Ug=y}k.style[y.Je.transform]=1==
l.R&&0==l.T&&0==l.S&&1==l.U&&0==l.$&&0==l.aa?"":"matrix("+y.yd(l).join(",")+")"}}};function Dh(a){Y.call(this,a.lg);this.lc=new wh("label",!1);Uc(this.lc.a,a.label);X(this,this.lc);this.X=new Y("value","INPUT");this.X.a.setAttribute("autocomplete","off");this.X.a.setAttribute("value",a.qg);a.rg&&this.X.a.setAttribute("type","password");X(this,this.X);a.qf&&F(this.X.a,"blur",function(){a.qf(this.X.displayObject().value)?Rg(this.X.a,"error"):Qg(this.X.a,"error")},!1,this)}z(Dh,Y);
Dh.prototype.hasFocus=function(){a:{var a=document;try{var b=a&&a.activeElement;break a}catch(c){}b=null}return b==this.X.displayObject()};function Eh(a,b,c,d,e){this.id=a;this.label=b;this.qg=d||"";this.lg=e||"";this.rg=c||!1;this.qf=void 0};function Fh(a,b,c,d){th.call(this,"auth_window");uh(this);var e=new wh("title",!1);Uc(e.a,a);X(this,e);b&&(a=new wh("message",!1),a.a.innerHTML=b,X(this,a));this.ea={};for(b=0;b<c.length;++b){a=c[b];var f=new Dh(a);this.ea[a.id]=f;X(this,f)}c=new vh(!1,"confirm_button");Uc(c.a,d);X(this,c);F(c.displayObject(),"click",this.oe,!1,this);this.ib=new H;zd(function(){var a=0,b=0;for(e in this.ea)this.ea.hasOwnProperty(e)&&(f=this.ea[e],a=Math.max(a,f.lc.width()));for(e in this.ea)if(this.ea.hasOwnProperty(e)){var c=
f=this.ea[e],d=a;c.lc.resize(d);d=d+12+c.X.width();c.resize(d);b=Math.max(b,f.width())}d=this.displayObject();if(D){a=ed(d,"paddingLeft");var e=ed(d,"paddingRight");c=ed(d,"paddingTop");d=ed(d,"paddingBottom");a=new Kc(c,e,d,a)}else a=bd(d,"paddingLeft"),e=bd(d,"paddingRight"),c=bd(d,"paddingTop"),d=bd(d,"paddingBottom"),a=new Kc(parseFloat(c),parseFloat(e),parseFloat(d),parseFloat(a));this.resize(b+a.left+a.right);b=-Math.floor(this.height()/2)+"px";Zc(this.displayObject(),"margin-top",b);b=-Math.floor(this.width()/
2)+"px";Zc(this.displayObject(),"margin-left",b)},this);F(document.body,"keydown",this.re,!1,this)}z(Fh,th);Fh.prototype.oe=function(){G(document.body,"keydown",this.re,!1,this);this.ib.j()};function Gh(a,b){a=a.ea[b];if(!a)throw Error("unknown field id");return a.X.displayObject().value}
Fh.prototype.re=function(a){if(13==a.keyCode){var b=!1,c=!1,d;for(d in this.ea)if(this.ea.hasOwnProperty(d)){var e=this.ea[d];e.hasFocus()&&(b=!0);if(!e.X.displayObject().value){c=!0;break}}b&&!c&&(a.stopPropagation(),this.oe())}};function Hh(a,b,c,d,e){Y.call(this,"tincan");this.f=b;a.appendChild(this.displayObject());Zc(this.displayObject(),"width","100%");Zc(this.displayObject(),"height","100%");this.la=c;this.ua=new yh(this.displayObject());this.Pc=new H;Ch(this.ua);e?(this.sa=!1,e.Ra.addHandler(function(a){if(a){a=this.f.s("TINCAN_AUTH_ERROR_WINDOW_TITLE",{},"Error");var b=this.f.s("TINCAN_AUTH_AUTHENTICATION_ERROR_WINDOW_TEXT",{},"Authentication failed")}else a=this.f.s("TINCAN_AUTH_CONNECTION_ERROR_WINDOW_TITLE",{},
"Connection Problem"),b=this.f.s("TINCAN_AUTH_CONNECTION_ERROR_WINDOW_TEXT",{},"Cannot connect to Learning Record Store (LRS) Please check your internet connection and try again.");Ih(this,a,b,e)},this),e.ec.addHandler(function(){this.sa=!0;d?Jh(this):Kh(this)},this),Lh(this,e)):(this.sa=!0,Jh(this))}z(Hh,Y);
function Lh(a,b){var c=[],d=a.f.s("TINCAN_AUTH_LOGIN_WINDOW_LOGIN_FIELD_CAPTION",{},"Login:");c.push(new Eh("login",d,!1,a.la.login,"first_field"));d=a.f.s("TINCAN_AUTH_LOGIN_WINDOW_PASSWORD_FIELD_CAPTION",{},"Password:");c.push(new Eh("password",d,!0,a.la.password,"second_field"));d=a.f.s("TINCAN_AUTH_WINDOW_TITLE",{},"Learning Record Store");var e=a.f.s("TINCAN_AUTH_WINDOW_SUBTITLE",{},"Introduce yourself"),f=a.f.s("TINCAN_AUTH_LOGIN_WINDOW_BUTTON_CAPTION",{},"Login"),h=new Fh(d,e,c,f);h.ib.addHandler(function l(){h.ib.removeHandler(l);
h.close();Ah(this.ua,h);this.la.login=Gh(h,"login");this.la.password=Gh(h,"password");Mh(b,Gh(h,"login"),Gh(h,"password"))},a);zh(a.ua,h);h.open()}
function Jh(a){var b=[],c=a.f.s("TINCAN_AUTH_USER_INFO_WINDOW_NAME_CAPTION",{},"Name:");b.push(new Eh("username",c,!1,a.la.username,"first_field"));c=a.f.s("TINCAN_AUTH_USER_INFO_WINDOW_EMAIL_CAPTION",{},"Email:");b.push(new Eh("email",c,!1,a.la.email,"second_field"));c=a.f.s("TINCAN_AUTH_WINDOW_TITLE",{},"Learning Record Store");var d=a.f.s("TINCAN_AUTH_WINDOW_SUBTITLE",{},"Introduce yourself"),e=a.f.s("TINCAN_AUTH_USER_INFO_WINDOW_BUTTON_CAPTION",{},"OK"),f=new Fh(c,d,b,e);f.ib.addHandler(function k(){f.ib.removeHandler(k);
f.close();Ah(this.ua,f);this.la.username=Gh(f,"username");var a=Gh(f,"email");this.la.email=a;null!=a&&ge.test(a)?(this.la.email=a,Kh(this)):Nh(this)},a);zh(a.ua,f);f.open()}function Kh(a){a.Pc.j(a.sa?a.la:null);Sc(a.displayObject())}
function Nh(a){var b=a.f.s("TINCAN_AUTH_ERROR_WINDOW_TITLE",{},"Error"),c=a.f.s("TINCAN_AUTH_INVALID_EMAIL_WINDOW_TEXT",{},"Please enter a valid email address."),d=a.f.s("TINCAN_AUTH_INVALID_EMAIL_WINDOW_BUTTON_CAPTION",{},"OK"),e=new xh(b,c,d);e.Sa.addHandler(function h(){e.Sa.removeHandler(h);Ah(this.ua,e);Jh(this)},a);zh(a.ua,e);e.open()}
function Ih(a,b,c,d){var e=a.f.s("TINCAN_AUTH_ERROR_WINDOW_RETRY_BUTTON_CAPTION",{},"Try Again"),f=a.f.s("TINCAN_AUTH_ERROR_WINDOW_CLOSE_BUTTON_CAPTION",{},"Close"),h=new xh(b,c,e,f);h.Sa.addHandler(function u(a){h.Sa.removeHandler(u);Ah(this.ua,h);a.Yd?Kh(this):Lh(this,d)},a);zh(a.ua,h);h.open()};function Oh(a,b,c,d,e){var f=eg(a);if(f){var h=new Vf("Basic "+ud(b+":"+c));a=a+"activities/state?activityId="+encodeURIComponent("http://example.com/authorization_test")+"&agent="+encodeURIComponent('{"name": "temp", "mbox": "mailto:temp@example.com"}')+"&stateId=temp";a=new Tf(a,"PUT","[1]");Uf(a,h.Mc);f.Bc(a,function(){d(h)},function(a){e(401==a?"authFailed":"other")})}else e("other")};function Ph(a,b,c,d){this.Gb=b;this.f=c;this.c=d;this.Aa=new Qh(a);this.Xd=new H;this.Ra=new H}Ph.prototype.Nc=null;function Rh(a){var b=a.Gb;b.login()&&b.password()?(a.Aa.ec.addHandler(a.oc,a),a.Aa.Ra.addHandler(a.oc,a),Mh(a.Aa,b.login(),b.password())):Sh(a)}Ph.prototype.oc=function(){this.Aa.ec.removeHandler(this.oc,this);this.Aa.Ra.removeHandler(this.oc,this);Sh(this)};
function Sh(a){var b=a.Gb,c=!a.Aa.Ga,d=!(b.userName()&&b.$e),e={};e.login=b.login();e.password=b.password();e.username=b.userName();e.email=b.$e;a.c&&(e.username||(e.username=a.c.get("user.name")||""),e.email||(e.email=a.c.get("user.email")||""));c||d?(a.Nc=new Hh(document.body,a.f,e,d,c?a.Aa:null),a.Nc.Pc.addHandler(a.Ee,a)):Th(a,e)}Ph.prototype.Ee=function(a){this.Nc.Pc.removeHandler(this.Ee,this);Th(this,a)};
function Th(a,b){var c=a.Aa.Ga;if(c&&b){var d=b.username;b=b.email;if(a.c)try{a.c.set("user.name",d),a.c.set("user.email",b)}catch(e){}a.Xd.j({name:d,mbox:"mailto:"+b},c)}else a.Ra.j()}function Qh(a){this.Tc=a;this.ec=new H;this.Ra=new H}Qh.prototype.Ga=null;function Mh(a,b,c){Oh(a.Tc,b,c,function(b){a.Ga=b;a.ec.j()},function(b){a.Ra.j("authFailed"==b)})};function Uh(a){this.K=null;this.af=this.$d=this.Ke=this.H="";this.fa=null;this.Ub=!1;this.ud=0;this.tc=!1;this.Uc="";this.me=this.c=this.Gb=null;this.uc=void 0;this.Ze=!1;this.af=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^x()).toString(36);this.M=[];this.f=a.i18n();this.ta=a.ta;this.Ne=new Mg(Da(this.ag,this));if(this.tc=!!(a.je&&a.Ye&&a.Xe)){var b=a.Ye,c=a.Xe;this.H=a.je;this.Uc=b;this.Gb=c;Vh(this)}window.O=this}g=Uh.prototype;
g.Cd=function(a,b){this.K.Cd(a,b)};g.Td=function(a){this.K.Td(a)};g.Ac=function(a,b,c){this.K.Ac(a,b,c)};g.Sd=function(a,b){this.K.Sd(a,b)};g.Pb=function(a,b){this.K=a;this.c&&(a=this.K,a.c=new ig(this.c,a.N.endpoint(),id(a.N.gb)));Wh(this,b)};function Wh(a,b){a.K.getState("suspend_data",function(c){if(c)try{a.me=hd(c)}catch(d){}b()})}
g.be=function(a,b){var c=this,d=new Ph(this.Uc,this.Gb,this.f,this.c);d.Xd.addHandler(function(b,d){var e=c.H,f={};f.endpoint=c.Uc;f.activity_id=e;f.actor=id(b);b=new Nf(f);d=new jg(b,d);c.Pb(d,a)});d.Ra.addHandler(function(){b();qe();Hd()});Rh(d)};function Vh(a){A(a.H);var b=a.H;var c=new Dg;(c=c.Jd()?b?new Bg(c,b):c:null)||(b=new Hg(b||"UserDataSharedStore"),c=b.Jd()?b:null);if(b=c)a.c=new Mf(b)}
g.Rd=function(a){this.$d=a;this.fa=Xh(this,a,be);this.Ub=!1;"normal"==this.ya()&&(a=Xh(this,a,Zd),this.M.push(a));this.ud=x()};g.Wd=function(){null!=this.fa&&!this.Ub&&"normal"==this.ya()&&this.M.push(this.fa)};g.$c=function(){return this.Fa&&this.ta};function Xh(a,b,c){c=new ie(c);c.pb={name:a.xa(b),type:"http://adlnet.gov/expapi/activities/course"};a.hb(c);return c}g.xa=function(a){return{und:a}};g.jf=function(){return!1};g.hb=function(a){ke(a,"ispring://view_id",this.af)};
g.terminate=function(){if(null!=this.fa&&!this.Ub&&null!=this.fa&&!this.Ub){var a=x();this.fa.xd=a;this.fa.result().ja((a-this.ud)/1E3);this.Wd();this.Ub=!0}this.Td(this.M);this.M=[];this.Ne.ng(!0);this.od()};g.od=function(){qe();Hd()};g.Ed=function(){0<this.M.length&&(this.Cd(this.M),this.M=[])};g.fb=function(a,b,c,d){var e=this.fa.result();e.tb=a;e.ob=b;e.nb=c;null!=d&&(e.vb=d)};g.ya=function(){return"normal"};g.Qd=function(a,b){je(this.fa,a,b,this.$c(),this.Ze)};
g.Xb=function(a,b,c,d){if("normal"==this.ya()){a=null!=a?this.H+a:null;b=new ie(c,this.H+b);null!=a&&(b.nd=a);a=this.xa;c=this.jf();var e={type:"http://adlnet.gov/expapi/activities/cmi.interaction",description:a(d.description()),interactionType:d.type()};c&&(e.name=a(d.description()));(c=d.I)&&0<c.length&&(e.correctResponsesPattern=c);(c=d.Zb())&&Ng(c,e,a);b.pb=e;a=b.result();if(e=d.Bd)b.xd=e.getTime();e=d.duration();null===e||a.ja(e/1E3);e=d.D;null!==e&&(a.rd=e);e=d.score();var f=d.awardedScore();
e&&null!==f&&(a.vb=f/e,a.tb=f,a.nb=e,a.ob=0);if(c instanceof gf){e={};f=c.l;for(var h=0;h<f.count();++h){var k=f.getChoice(h),l=c.Oc[h]||"";e[k.id()]=l}a.Lb||(a.Lb={});a.Lb["ispring://quiz/custom_answers"]=e}d=d.result();if("correct"==d||"incorrect"==d||"partially"==d)a.sa="correct"==d;this.hb(b);this.M.push(b)}};
function Ff(a,b,c,d,e,f){b=null!=b?a.H+b:null;c=new ie(d,a.H+c);null!=b&&(c.nd=b);c.pb=e;null!=f&&(e=c.result(),null!=f.eb&&(e.ob=f.eb),null!=f.maxScore&&(e.nb=f.maxScore),null!=f.awardedScore&&(e.tb=f.awardedScore),null!=f.maxScore&&null!=f.awardedScore&&(e.vb=0<f.maxScore?f.awardedScore/f.maxScore:0),null!=f.Cb&&je(c,f.Cb,!0,a.$c(),a.Ze),null!=f.duration&&e.ja(f.duration));a.hb(c);a.M.push(c)}
g.Bb=function(){A(this.K);var a=this.K.zb(),b=C(a,"mbox","");0==b.lastIndexOf("mailto:",0)&&(b=b.substr(7));return new se(C(a,"name",""),b)};g.hf=function(){return null};g.ag=function(a){if(q(this.uc)){var b=id(this.uc);this.uc=void 0;a?this.Sd("suspend_data",b):this.Ac("suspend_data",b)}};function Yh(a,b){this.xf=a;b.Qe.addHandler(this.Pf,this)}v("iSpring.LMSAPI.TinCanApi",Yh,void 0);g=Yh.prototype;g.h=null;g.Fa=!1;
g.Id=function(a,b){try{this.h=this.gf(this.xf)}catch(sa){We()&&alert(sa)}if(this.h){var c=this.h;if(c.tc)c.be(a,b);else{a:{try{var d=Gd(window.location.search.substr(1),void 0),e,f="actor auth registration activity_id publisher_id endpoint grouping content_endpoint content_token".split(" "),h=["actor","auth","endpoint","activity_id"],k={},l;for(l in d){var u=d[l];0<=rb(f,l)&&(xb(h,l),k[l]=u,delete d[l])}if(e=0<h.length?null:new Nf(k)){var y=new jg(e,new Vf(e.auth()),d);break a}}catch(sa){}y=null}y?
(c.H=y.va(),Vh(c),c.Pb(y,a)):b()}}else b()};g.gf=function(a){return new Uh(a)};g.Ed=function(){this.h.Ed()};g.suspend=function(){this.h.Fa=this.Fa;this.h.terminate()};g.terminate=function(){this.h.Fa=this.Fa;this.h.terminate()};g.lf=function(a){this.Fa=a;this.h.Fa=this.Fa};g.ya=function(){return"normal"};g.Qd=function(a,b){this.h.Qd(a,b)};g.fb=function(a,b,c,d){this.h.fb(d,b,c,a)};g.Pf=function(a){this.h.Rd(a)};g.kf=function(){return null};g.Xb=function(a,b,c,d){this.h.Xb(a,b,c,d)};g.xa=function(a){return{und:a}};
function Kf(a,b,c,d){Ff(a.h,b,b,c,{name:a.xa(d),type:"http://adlnet.gov/expapi/activities/module"})}function Lf(a,b,c,d,e){Ff(a.h,b,b,c,{name:a.xa(d),type:"http://adlnet.gov/expapi/activities/module"},e)};function Zh(a){if(a.ga&&"function"==typeof a.ga)return a.ga();if(r(a))return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return mb(a)}
function $h(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(wa(a)||r(a))sb(a,b,c);else{if(a.Ma&&"function"==typeof a.Ma)var d=a.Ma();else if(a.ga&&"function"==typeof a.ga)d=void 0;else if(wa(a)||r(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=nb(a);e=Zh(a);f=e.length;for(var h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function ai(a){this.wa=this.Vd=this.Na="";this.Db=null;this.cb=this.oa="";this.Z=this.sg=!1;if(a instanceof ai){this.Z=q(void 0)?void 0:a.Z;bi(this,a.Na);this.setUserInfo(a.Bb());var b=a.wa;Z(this);this.wa=b;ci(this,a.Db);b=a.oa;Z(this);this.oa=b;di(this,a.ba.clone());a=a.cb;Z(this);this.cb=a}else a&&(b=String(a).match(Pf))?(this.Z=!1,bi(this,b[1]||"",!0),this.setUserInfo(b[2]||"",!0),a=b[3]||"",Z(this),this.wa=ei(a,!0),ci(this,b[4]),a=b[5]||"",Z(this),this.oa=ei(a,!0),di(this,b[6]||"",!0),a=b[7]||
"",Z(this),this.cb=ei(a)):(this.Z=!1,this.ba=new fi(null,this.Z))}g=ai.prototype;
g.toString=function(){var a=[],b=this.Na;b&&a.push(gi(b,hi,!0),":");var c=this.wa;if(c||"file"==b)a.push("//"),(b=this.Bb())&&a.push(gi(b,hi,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Db,null!=c&&a.push(":",String(c));if(c=this.oa)this.wa&&"/"!=c.charAt(0)&&a.push("/"),a.push(gi(c,"/"==c.charAt(0)?ii:ji,!0));(c=this.ba.toString())&&a.push("?",c);(c=this.cb)&&a.push("#",gi(c,ki));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=!!a.Na;c?bi(b,a.Na):c=!!a.Vd;c?b.setUserInfo(a.Bb()):c=!!a.wa;if(c){var d=a.wa;Z(b);b.wa=d}else c=null!=a.Db;d=a.oa;if(c)ci(b,a.Db);else if(c=!!a.oa){if("/"!=d.charAt(0))if(this.wa&&!this.oa)d="/"+d;else{var e=b.oa.lastIndexOf("/");-1!=e&&(d=b.oa.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(Z(b),b.oa=d):c=""!==a.ba.toString();c?di(b,a.ba.clone()):c=!!a.cb;c&&(a=a.cb,Z(b),b.cb=a);return b};g.clone=function(){return new ai(this)};function bi(a,b,c){Z(a);a.Na=c?ei(b,!0):b;a.Na&&(a.Na=a.Na.replace(/:$/,""))}g.Bb=function(){return this.Vd};g.setUserInfo=function(a,b){Z(this);this.Vd=b?ei(a):a;return this};
function ci(a,b){Z(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Db=b}else a.Db=null}function di(a,b,c){Z(a);b instanceof fi?(a.ba=b,a.ba.Od(a.Z)):(c||(b=gi(b,li)),a.ba=new fi(b,a.Z))}g.removeParameter=function(a){Z(this);this.ba.remove(a);return this};function Z(a){if(a.sg)throw Error("Tried to modify a read-only Uri");}g.Od=function(a){this.Z=a;this.ba&&this.ba.Od(a)};function ei(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function gi(a,b,c){return r(a)?(a=encodeURI(a).replace(b,mi),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function mi(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hi=/[#\/\?@]/g,ji=/[#\?:]/g,ii=/[#\?]/g,li=/[#\?@]/g,ki=/#/g;function fi(a,b){this.m=this.i=null;this.P=a||null;this.Z=!!b}function ni(a){a.i||(a.i=new Eg,a.m=0,a.P&&Qf(a.P,function(b,c){a.add(Ha(b),c)}))}g=fi.prototype;
g.add=function(a,b){ni(this);this.P=null;a=oi(this,a);var c=this.i.get(a);c||this.i.set(a,c=[]);c.push(b);this.m=Ya(this.m)+1;return this};g.remove=function(a){ni(this);a=oi(this,a);return this.i.Ab(a)?(this.P=null,this.m=Ya(this.m)-this.i.get(a).length,this.i.remove(a)):!1};g.clear=function(){this.i=this.P=null;this.m=0};g.Ab=function(a){ni(this);a=oi(this,a);return this.i.Ab(a)};g.forEach=function(a,b){ni(this);this.i.forEach(function(c,d){sb(c,function(c){a.call(b,c,d,this)},this)},this)};
g.Ma=function(){ni(this);for(var a=this.i.ga(),b=this.i.Ma(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.ga=function(a){ni(this);var b=[];if(r(a))this.Ab(a)&&(b=zb(b,this.i.get(oi(this,a))));else{a=this.i.ga();for(var c=0;c<a.length;c++)b=zb(b,a[c])}return b};g.set=function(a,b){ni(this);this.P=null;a=oi(this,a);this.Ab(a)&&(this.m=Ya(this.m)-this.i.get(a).length);this.i.set(a,[b]);this.m=Ya(this.m)+1;return this};
g.get=function(a,b){a=a?this.ga(a):[];return 0<a.length?String(a[0]):b};g.toString=function(){if(this.P)return this.P;if(!this.i)return"";for(var a=[],b=this.i.Ma(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.ga(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}}return this.P=a.join("&")};g.clone=function(){var a=new fi;a.P=this.P;this.i&&(a.i=this.i.clone(),a.m=this.m);return a};
function oi(a,b){b=String(b);a.Z&&(b=b.toLowerCase());return b}g.Od=function(a){a&&!this.Z&&(ni(this),this.P=null,this.i.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),this.remove(b),0<a.length&&(this.P=null,this.i.set(oi(this,b),Ab(a)),this.m=Ya(this.m)+a.length))},this));this.Z=a};g.extend=function(a){for(var b=0;b<arguments.length;b++)$h(arguments[b],function(a,b){this.add(b,a)},this)};function pi(a,b,c,d,e){this.Tc=a;this.Ga=new Vf("Basic "+b);this.gb=c;this.H=d;this.Vf=e}pi.prototype.endpoint=function(){return this.Tc};pi.prototype.zb=function(){return this.gb};pi.prototype.va=function(){return this.H};function qi(a,b){if(!a.Ab(b))throw Error('parameter "'+b+'" is not provided');return a.get(b)};var ri={id:"http://adlnet.gov/expapi/verbs/initialized",display:{"en-US":"Initialized"}},si={id:"http://adlnet.gov/expapi/verbs/completed",display:{"en-US":"Completed"}},ti={id:"http://adlnet.gov/expapi/verbs/passed",display:{"en-US":"Passed"}},ui={id:"http://adlnet.gov/expapi/verbs/failed",display:{"en-US":"Failed"}},vi={id:"http://adlnet.gov/expapi/verbs/terminated",display:{"en-US":"Terminated"}};function wi(a){Uh.call(this,a);var b;null!=b||(b=window.location.toString());b=new ai(b);if(""===b.ba.toString())throw Error("no URL launch parameters provided");var c=b.ba;b=qi(c,"endpoint");var d=qi(c,"fetch");var e=pe();if(null==e)throw Error("cannot create xmlHttp object");e.open("POST",d,!1);e.setRequestHeader("Content-Type","application/json");e.send("{}");if(200==e.status){d=hd(e.responseText);if(!(null!==d&&"auth-token"in d)&&null!==d&&"error-code"in d&&null!==d&&"error-text"in d)throw Error('LMS error "'+
C(d,"error-code")+": "+C(d,"error-text")+'" returned on attempt to fetch auth token');d=C(d,"auth-token")}else throw Error('HTTP error "'+e.status+": "+e.statusText+'" returned on attempt to fetch auth token');e=hd(qi(c,"actor"));var f;if(!(f=null==e))a:{for(var h in e){f=!1;break a}f=!0}if(f)throw Error('parameter "actor" value is invalid');h=qi(c,"activityId");c=qi(c,"registration");this.J=new pi(b,d,e,h,c);this.tc=!0;this.H=this.J.va();this.Pe=a.bg;Vh(this);this.Xa=this.Ie=null}n(wi,Uh);g=wi.prototype;
g.ya=function(){return null!=this.Ua?this.Ua.launchMode.toLowerCase():"normal"};g.Rd=function(a){Uh.prototype.Rd.call(this,a);q(this.Pe)&&(a=this.Ua.masteryScore,null!=a&&this.Pe(a))};g.be=function(a){var b={};b.actor=this.J.zb();b.auth="";b.registration=this.J.Vf;b.activity_id=this.H;b.endpoint=this.J.endpoint();b=new Nf(b);b=new jg(b,this.J.Ga);this.Pb(b,a);this.K.Nd(this.H)};g.xa=function(a){return{"en-US":a}};g.jf=function(){return!0};
g.Pb=function(a,b){var c=this;Uh.prototype.Pb.call(this,a,function(){xi(c,b)})};function xi(a,b){a.K.getState("LMS.LaunchData",function(c){c&&(c=hd(c),A(c),a.Ua=c,a.Ke=a.Ua.contextTemplate.contextActivities.grouping[0].id,a.K.Pd(a.Ke));yi(a,b)})}function yi(a,b){sg(a.K,function(c){if(c)try{a.Ie=hd(c)}catch(d){}c=zi(a,ri);a.M.push(c);a.Xa=x();b()})}g.hf=function(){return this.Ie};g.hb=function(a){Uh.prototype.hb.call(this,a);ke(a,"https://w3id.org/xapi/cmi5/context/extensions/sessionid",this.Ua.contextTemplate.extensions["https://w3id.org/xapi/cmi5/context/extensions/sessionid"])};
g.Wd=function(){};g.$c=function(){return!1};g.od=function(){var a;(a=this.Ua.returnURL)&&(a=Ha(a));null!=a?window.location.assign(a):Uh.prototype.od.call(this)};
g.terminate=function(){if("normal"==this.ya()&&null!=this.fa){var a=(x()-this.ud)/1E3,b=this.fa.result();if(null!=b.Fd()){var c=zi(this,si);c.Hb.push("https://w3id.org/xapi/cmi5/context/categories/moveon");c.result().ja(a);var d=c.result(),e=b.Fd();d.gc=e;this.M.push(c)}d=b.pf();if(null!=d){e=b.Fb();var f=this.Ua.masteryScore;null!=f&&(f=parseFloat(f),d=e>=f);c=zi(this,d?ti:ui);c.Hb.push("https://w3id.org/xapi/cmi5/context/categories/moveon");c.result().ja(a);c.result().sa=d;null!=e&&null!=f&&(c.result().vb=
e,ke(c,"https://w3id.org/xapi/cmi5/context/extensions/masteryscore",f),a=b.Hc(),d=b.eb(),b=b.maxScore(),null!=a&&null!=d&&null!=b&&(a=Math.floor(a),d=Math.floor(d),b=Math.floor(b),a>=d&&a<=b&&(c.result().tb=a,c.result().ob=d,c.result().nb=b)));this.M.push(c)}}b=zi(this,vi);this.M.push(b);Uh.prototype.terminate.call(this)};
function zi(a,b){b=new ie(b,a.J.va());a.hb(b);b.Hb.push("https://w3id.org/xapi/cmi5/context/categories/cmi5");null!=a.Xa&&b.result().ja((x()-a.Xa)/1E3);b.pb={name:a.xa(a.$d)};return b};function Ai(a,b){Yh.call(this,a,b)}z(Ai,Yh);v("iSpring.LMSAPI.Cmi5Api",Ai,void 0);g=Ai.prototype;g.xa=function(a){return{"en-US":a}};g.gf=function(a){return new wi(a)};g.kf=function(){return this.h.hf()};g.lf=function(){};g.ya=function(){return this.h.ya()};})();
